Eksport struktury katalogów i plików
Wygenerowano: 06/06/2025 01:59:50



ŒCIE¯KA: .gitignore
----------------------
[PLIK BINARNY - POMINIÊTO ZAWARTOŒÆ]


ŒCIE¯KA: mvnw
----------------
[PLIK BINARNY - POMINIÊTO ZAWARTOŒÆ]


ŒCIE¯KA: mvnw.cmd
--------------------
@REM ----------------------------------------------------------------------------
@REM Licensed to the Apache Software Foundation (ASF) under one
@REM or more contributor license agreements.  See the NOTICE file
@REM distributed with this work for additional information
@REM regarding copyright ownership.  The ASF licenses this file
@REM to you under the Apache License, Version 2.0 (the
@REM "License"); you may not use this file except in compliance
@REM with the License.  You may obtain a copy of the License at
@REM
@REM    https://www.apache.org/licenses/LICENSE-2.0
@REM
@REM Unless required by applicable law or agreed to in writing,
@REM software distributed under the License is distributed on an
@REM "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
@REM KIND, either express or implied.  See the License for the
@REM specific language governing permissions and limitations
@REM under the License.
@REM ----------------------------------------------------------------------------

@REM ----------------------------------------------------------------------------
@REM Maven Start Up Batch script
@REM
@REM Required ENV vars:
@REM JAVA_HOME - location of a JDK home dir
@REM
@REM Optional ENV vars
@REM M2_HOME - location of maven2's installed home dir
@REM MAVEN_BATCH_ECHO - set to 'on' to enable the echoing of the batch commands
@REM MAVEN_BATCH_PAUSE - set to 'on' to wait for a keystroke before ending
@REM MAVEN_OPTS - parameters passed to the Java VM when running Maven
@REM     e.g. to debug Maven itself, use
@REM set MAVEN_OPTS=-Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=8000
@REM MAVEN_SKIP_RC - flag to disable loading of mavenrc files
@REM ----------------------------------------------------------------------------

@REM Begin all REM lines with '@' in case MAVEN_BATCH_ECHO is 'on'
@echo off
@REM set title of command window
title %0
@REM enable echoing by setting MAVEN_BATCH_ECHO to 'on'
@if "%MAVEN_BATCH_ECHO%" == "on"  echo %MAVEN_BATCH_ECHO%

@REM set %HOME% to equivalent of $HOME
if "%HOME%" == "" (set "HOME=%HOMEDRIVE%%HOMEPATH%")

@REM Execute a user defined script before this one
if not "%MAVEN_SKIP_RC%" == "" goto skipRcPre
@REM check for pre script, once with legacy .bat ending and once with .cmd ending
if exist "%USERPROFILE%\mavenrc_pre.bat" call "%USERPROFILE%\mavenrc_pre.bat" %*
if exist "%USERPROFILE%\mavenrc_pre.cmd" call "%USERPROFILE%\mavenrc_pre.cmd" %*
:skipRcPre

@setlocal

set ERROR_CODE=0

@REM To isolate internal variables from possible post scripts, we use another setlocal
@setlocal

@REM ==== START VALIDATION ====
if not "%JAVA_HOME%" == "" goto OkJHome

echo.
echo Error: JAVA_HOME not found in your environment. >&2
echo Please set the JAVA_HOME variable in your environment to match the >&2
echo location of your Java installation. >&2
echo.
goto error

:OkJHome
if exist "%JAVA_HOME%\bin\java.exe" goto init

echo.
echo Error: JAVA_HOME is set to an invalid directory. >&2
echo JAVA_HOME = "%JAVA_HOME%" >&2
echo Please set the JAVA_HOME variable in your environment to match the >&2
echo location of your Java installation. >&2
echo.
goto error

@REM ==== END VALIDATION ====

:init

@REM Find the project base dir, i.e. the directory that contains the folder ".mvn".
@REM Fallback to current working directory if not found.

set MAVEN_PROJECTBASEDIR=%MAVEN_BASEDIR%
IF NOT "%MAVEN_PROJECTBASEDIR%"=="" goto endDetectBaseDir

set EXEC_DIR=%CD%
set WDIR=%EXEC_DIR%
:findBaseDir
IF EXIST "%WDIR%"\.mvn goto baseDirFound
cd ..
IF "%WDIR%"=="%CD%" goto baseDirNotFound
set WDIR=%CD%
goto findBaseDir

:baseDirFound
set MAVEN_PROJECTBASEDIR=%WDIR%
cd "%EXEC_DIR%"
goto endDetectBaseDir

:baseDirNotFound
set MAVEN_PROJECTBASEDIR=%EXEC_DIR%
cd "%EXEC_DIR%"

:endDetectBaseDir

IF NOT EXIST "%MAVEN_PROJECTBASEDIR%\.mvn\jvm.config" goto endReadAdditionalConfig

@setlocal EnableExtensions EnableDelayedExpansion
for /F "usebackq delims=" %%a in ("%MAVEN_PROJECTBASEDIR%\.mvn\jvm.config") do set JVM_CONFIG_MAVEN_PROPS=!JVM_CONFIG_MAVEN_PROPS! %%a
@endlocal & set JVM_CONFIG_MAVEN_PROPS=%JVM_CONFIG_MAVEN_PROPS%

:endReadAdditionalConfig

SET MAVEN_JAVA_EXE="%JAVA_HOME%\bin\java.exe"
set WRAPPER_JAR="%MAVEN_PROJECTBASEDIR%\.mvn\wrapper\maven-wrapper.jar"
set WRAPPER_LAUNCHER=org.apache.maven.wrapper.MavenWrapperMain

set DOWNLOAD_URL="https://repo.maven.apache.org/maven2/org/apache/maven/wrapper/maven-wrapper/3.1.0/maven-wrapper-3.1.0.jar"

FOR /F "usebackq tokens=1,2 delims==" %%A IN ("%MAVEN_PROJECTBASEDIR%\.mvn\wrapper\maven-wrapper.properties") DO (
    IF "%%A"=="wrapperUrl" SET DOWNLOAD_URL=%%B
)

@REM Extension to allow automatically downloading the maven-wrapper.jar from Maven-central
@REM This allows using the maven wrapper in projects that prohibit checking in binary data.
if exist %WRAPPER_JAR% (
    if "%MVNW_VERBOSE%" == "true" (
        echo Found %WRAPPER_JAR%
    )
) else (
    if not "%MVNW_REPOURL%" == "" (
        SET DOWNLOAD_URL="%MVNW_REPOURL%/org/apache/maven/wrapper/maven-wrapper/3.1.0/maven-wrapper-3.1.0.jar"
    )
    if "%MVNW_VERBOSE%" == "true" (
        echo Couldn't find %WRAPPER_JAR%, downloading it ...
        echo Downloading from: %DOWNLOAD_URL%
    )

    powershell -Command "&{"^
		"$webclient = new-object System.Net.WebClient;"^
		"if (-not ([string]::IsNullOrEmpty('%MVNW_USERNAME%') -and [string]::IsNullOrEmpty('%MVNW_PASSWORD%'))) {"^
		"$webclient.Credentials = new-object System.Net.NetworkCredential('%MVNW_USERNAME%', '%MVNW_PASSWORD%');"^
		"}"^
		"[Net.ServicePointManager]::SecurityProtocol = [Net.SecurityProtocolType]::Tls12; $webclient.DownloadFile('%DOWNLOAD_URL%', '%WRAPPER_JAR%')"^
		"}"
    if "%MVNW_VERBOSE%" == "true" (
        echo Finished downloading %WRAPPER_JAR%
    )
)
@REM End of extension

@REM Provide a "standardized" way to retrieve the CLI args that will
@REM work with both Windows and non-Windows executions.
set MAVEN_CMD_LINE_ARGS=%*

%MAVEN_JAVA_EXE% ^
  %JVM_CONFIG_MAVEN_PROPS% ^
  %MAVEN_OPTS% ^
  %MAVEN_DEBUG_OPTS% ^
  -classpath %WRAPPER_JAR% ^
  "-Dmaven.multiModuleProjectDirectory=%MAVEN_PROJECTBASEDIR%" ^
  %WRAPPER_LAUNCHER% %MAVEN_CONFIG% %*
if ERRORLEVEL 1 goto error
goto end

:error
set ERROR_CODE=1

:end
@endlocal & set ERROR_CODE=%ERROR_CODE%

if not "%MAVEN_SKIP_RC%"=="" goto skipRcPost
@REM check for post script, once with legacy .bat ending and once with .cmd ending
if exist "%USERPROFILE%\mavenrc_post.bat" call "%USERPROFILE%\mavenrc_post.bat"
if exist "%USERPROFILE%\mavenrc_post.cmd" call "%USERPROFILE%\mavenrc_post.cmd"
:skipRcPost

@REM pause the script if MAVEN_BATCH_PAUSE is set to 'on'
if "%MAVEN_BATCH_PAUSE%"=="on" pause

if "%MAVEN_TERMINATE_CMD%"=="on" exit %ERROR_CODE%

cmd /C exit /B %ERROR_CODE%



ŒCIE¯KA: pom.xml
-------------------
<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
    <modelVersion>4.0.0</modelVersion>

    <groupId>com.election</groupId>
    <artifactId>election-system</artifactId>
    <version>1.0-SNAPSHOT</version>
    <packaging>jar</packaging>

    <properties>
        <maven.compiler.source>17</maven.compiler.source>
        <maven.compiler.target>17</maven.compiler.target>
        <javafx.version>17</javafx.version>
        <hibernate.version>6.4.2.Final</hibernate.version>
    </properties>
    <dependencies>
        <!-- BCrypt do hashowania haseÅ‚ -->
        <dependency>
            <groupId>org.mindrot</groupId>
            <artifactId>jbcrypt</artifactId>
            <version>0.4</version>
        </dependency>
        <!-- https://mvnrepository.com/artifact/javax.naming/jndi -->
<!--        <dependency>-->
<!--            <groupId>javax.naming</groupId>-->
<!--            <artifactId>jndi</artifactId>-->
<!--            <version>1.2.1</version>-->
<!--        </dependency>-->
        <dependency>
            <groupId>jakarta.annotation</groupId>
            <artifactId>jakarta.annotation-api</artifactId>
            <version>3.0.0</version>
        </dependency>
        <dependency>
            <groupId>javax.transaction</groupId>
            <artifactId>javax.transaction-api</artifactId>
            <version>1.3</version>
        </dependency>
        <!-- https://mvnrepository.com/artifact/javax.sql/jdbc-stdext -->
<!--        <dependency>-->
<!--            <groupId>javax.sql</groupId>-->
<!--            <artifactId>jdbc-stdext</artifactId>-->
<!--            <version>2.0</version>-->
<!--        </dependency>-->
        <!-- JavaFX -->
        <dependency>
            <groupId>org.openjfx</groupId>
            <artifactId>javafx-controls</artifactId>
            <version>17.0.12</version>
        </dependency>
        <dependency>
            <groupId>org.openjfx</groupId>
            <artifactId>javafx-fxml</artifactId>
            <version>17.0.12</version>
        </dependency>

        <!-- Hibernate -->
        <dependency>
            <groupId>org.hibernate</groupId>
            <artifactId>hibernate-core</artifactId>
            <version>${hibernate.version}</version>
        </dependency>

        <!-- H2 Database -->
        <dependency>
            <groupId>com.h2database</groupId>
            <artifactId>h2</artifactId>
            <version>2.1.214</version>
        </dependency>

        <!-- Logowanie -->
        <dependency>
            <groupId>org.slf4j</groupId>
            <artifactId>slf4j-api</artifactId>
            <version>1.7.36</version>
        </dependency>
        <dependency>
            <groupId>org.apache.logging.log4j</groupId>
            <artifactId>log4j-slf4j-impl</artifactId>
            <version>2.17.1</version>
        </dependency>
        <dependency>
            <groupId>ch.qos.logback</groupId>
            <artifactId>logback-classic</artifactId>
            <version>1.5.13</version>
        </dependency>
        <dependency>
            <groupId>com.github.librepdf</groupId>
            <artifactId>openpdf</artifactId>
            <version>1.3.30</version>
        </dependency>

    </dependencies>

    <build>
        <plugins>
            <plugin>
                <groupId>org.openjfx</groupId>
                <artifactId>javafx-maven-plugin</artifactId>
                <version>0.0.8</version>
                <configuration>
                    <mainClass>com.election.Main</mainClass>
                </configuration>
            </plugin>
        </plugins>
        <resources>
            <resource>
                <directory>src/main/resources</directory>
                <includes>
                    <include>**/*.png</include>
                    <include>**/*.xml</include>
                    <include>**/*.sql</include>
                    <include>**/*.fxml</include>
                    <include>**/*.css</include>
                    <include>**/*.properties</include>
                    <include>MANIFEST.MF</include>
                </includes>
            </resource>
        </resources>
    </build>
</project>


ŒCIE¯KA: README.md
---------------------
Projekt WyborÃ³w



ŒCIE¯KA: schema.sql
----------------------
-- H2 2.1.214;
;             
CREATE USER IF NOT EXISTS "SA" SALT '7562c89feab4b8f7' HASH 'b69680163c4d7c9f786dca71006ce238485766cefd86776cc05f8af0f5392a65' ADMIN;         
CREATE CACHED TABLE "PUBLIC"."CANDIDATE"(
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL,
    "NAME" CHARACTER VARYING(255) NOT NULL,
    "PARTY" CHARACTER VARYING(255),
    "VOTES" INTEGER NOT NULL
);       
ALTER TABLE "PUBLIC"."CANDIDATE" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_C" PRIMARY KEY("ID");    
-- 3 +/- SELECT COUNT(*) FROM PUBLIC.CANDIDATE;               
INSERT INTO "PUBLIC"."CANDIDATE" VALUES
(1, 'Jan Kowalski', 'Partia A', 7),
(2, 'Anna Nowak', 'Partia B', 2),
(3, 'Jan Tarczynski', 'Partia C', 1);        
CREATE CACHED TABLE "PUBLIC"."ELECTION_RESULTS"(
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1 RESTART WITH 4) NOT NULL,
    "CANDIDATE_NAME" CHARACTER VARYING(255),
    "VOTES" INTEGER NOT NULL
);     
ALTER TABLE "PUBLIC"."ELECTION_RESULTS" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_4" PRIMARY KEY("ID");             
-- 3 +/- SELECT COUNT(*) FROM PUBLIC.ELECTION_RESULTS;        
INSERT INTO "PUBLIC"."ELECTION_RESULTS" VALUES
(1, 'Jan Kowalski', 7),
(2, 'Anna Nowak', 2),
(3, 'Jan Tarczynski', 1);     
CREATE CACHED TABLE "PUBLIC"."USERS"(
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1 RESTART WITH 54) NOT NULL,
    "FIRST_NAME" CHARACTER VARYING(255) NOT NULL,
    "HAS_VOTED" BOOLEAN NOT NULL,
    "LAST_NAME" CHARACTER VARYING(255) NOT NULL,
    "PASSWORD" CHARACTER VARYING(255) NOT NULL,
    "PESEL" CHARACTER VARYING(11) NOT NULL,
    "ROLE" CHARACTER VARYING(255) NOT NULL,
    "USERNAME" CHARACTER VARYING(255) NOT NULL
);        
ALTER TABLE "PUBLIC"."USERS" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_4D" PRIMARY KEY("ID");       
-- 52 +/- SELECT COUNT(*) FROM PUBLIC.USERS;  
INSERT INTO "PUBLIC"."USERS" VALUES
(1, 'Admin', FALSE, 'Adminowski', '$2a$10$dj9eHfuT2oAOd4H0LabcZexzBX7MS7/NgfhabawxQpXd57ZAr3nEq', '00000000000', 'ADMIN', 'admin'),
(2, 'Jan', FALSE, 'Nowak', '$2a$10$SvcT2pdsn5ndUfkfSvtFZ.dlYk/jnKfOz/gyq0yQdl58miFuAi23e', '00000000123', 'USER', 'user'),
(3, 'Marek', TRUE, U&'Szyma\0144ski', '$2a$10$Sc7BeEhS1QPGvKYOA5oczuFz3/8eG6050d/8gRKFPWAnYwcdyO5f6', '10000000001', 'USER', 'user1'),
(4, 'Magda', TRUE, U&'Kami\0144ski', '$2a$10$vUMiwF08NNen0DeWQb/pcukun3Sx1WXcHVuWka8TTi7ComDtJJw06', '10000000002', 'USER', 'user2'),
(5, 'Marek', TRUE, 'Kowalski', '$2a$10$LN4./y9hOIu.DXEhHgYeye0290.ZeRJJUUojUFyfVaiKFLjAq3FOW', '10000000003', 'USER', 'user3'),
(6, 'Katarzyna', TRUE, U&'Szyma\0144ski', '$2a$10$S0fJi2pjiVxVHXsvoGp68eT5BgSWnfGCkjmyE4KWW7XTRGcbcZKY.', '10000000004', 'USER', 'user4'),
(7, 'Anna', TRUE, U&'Wi\015bniewski', '$2a$10$7iok5jJS41OR2pA1TLKtiOgsjw8EjzMLROjkUjMgKYifQRO7.nB4y', '10000000005', 'USER', 'user5'),
(8, 'Marek', TRUE, U&'Wi\015bniewski', '$2a$10$tJqpsZKMTsqSvuDg4d.xu.kyODVx6xHi740N9fXwFbvksimF6Clg.', '10000000006', 'USER', 'user6'),
(9, 'Monika', TRUE, U&'Szyma\0144ski', '$2a$10$RZZTcoYwB1LtI7c3yqjapOF265vC.tkqOva7/QABqATowIzrAotn.', '10000000007', 'USER', 'user7'),
(10, 'Monika', TRUE, U&'Wo\017aniak', '$2a$10$2qrM8S0aJDxxPD36386btu43C40PspPXm0num5ZI6OIoB9O25EEqu', '10000000008', 'USER', 'user8'),
(11, U&'Pawe\0142', TRUE, U&'Wo\017aniak', '$2a$10$uieEDiqemn1oXopEzDtsfeXoP2dLILg198oJzmw8Xinz2zh580d.6', '10000000009', 'USER', 'user9'),
(12, 'Agnieszka', TRUE, U&'Wo\017aniak', '$2a$10$rUUN0rUD3Dmb1OacpLXwxuc8pEUJApxdi/Zq2/VhnYpZZrgcsZq/K', '10000000010', 'USER', 'user10'),
(13, 'Agnieszka', FALSE, 'Nowak', '$2a$10$/7Vqc7iLsSa4hMlLOK6qc.1ftRGezIAWLwzkC2P/A0pDNPlsnmXX.', '10000000011', 'USER', 'user11'),
(14, 'Tomasz', FALSE, U&'Wi\015bniewski', '$2a$10$DrjdCOEFl1p4jRQ7PKiD6eZtJ89ChOc3p5CzuxB6WMbTip/NXUyxK', '10000000012', 'USER', 'user12'),
(15, 'Agnieszka', FALSE, U&'Zieli\0144ski', '$2a$10$N5WKCe1KpuTmWbl72WnnLeCQuLggnSsiF7ns/XBPv.QzMKr47UCMC', '10000000013', 'USER', 'user13'),
(16, 'Magda', FALSE, U&'D\0105browski', '$2a$10$pFdWbG91JFHKIpDkH6CTE.WGB8in0xk96aLh4obJkLgs9D/OGipoe', '10000000014', 'USER', 'user14'),
(17, 'Katarzyna', FALSE, U&'Wo\017aniak', '$2a$10$wWZ0BjtBY1zhrm6AsCAULuP.GashgN/mFP8VA4ZxDM0W6W/wnoaR.', '10000000015', 'USER', 'user15'),
(18, 'Piotr', FALSE, 'Nowak', '$2a$10$vLts/gfZMZo/uWGuXNZmDOVZ/0Xh8n46XaeNJJnxh33pU/Chobb4G', '10000000016', 'USER', 'user16'),
(19, 'Piotr', FALSE, U&'Wi\015bniewski', '$2a$10$pUFMvRQNJ9VxoyOmgTien.kO90.uEEAhUC/mOdzXpAya/5EytmcFC', '10000000017', 'USER', 'user17'),
(20, 'Marek', FALSE, U&'Wo\017aniak', '$2a$10$7rHiMtPGw.eEOur502IKxe3uwScOa7TeHh1L.SMYTK/lLF.wmetQe', '10000000018', 'USER', 'user18'),
(21, 'Katarzyna', FALSE, 'Lewandowski', '$2a$10$N5E7A5Xup5kgz.G12NMgXudDS/O6Qxpe4VY78k2MvmoH/4jfTbJSC', '10000000019', 'USER', 'user19'),
(22, 'Agnieszka', FALSE, U&'Wo\017aniak', '$2a$10$x7DrVGNEG..Lq7DG7LrWleHie25IyuueDxr2kLGe/msvmJOvrzHi6', '10000000020', 'USER', 'user20'),
(23, 'Katarzyna', FALSE, 'Nowak', '$2a$10$nU7dkq9M9yuZ20.3BC.G8edd.wdcsLpJ1P5/XF6pKHJof7pQJOtvG', '10000000021', 'USER', 'user21'),
(24, 'Agnieszka', FALSE, U&'W\00f3jcik', '$2a$10$hbx/t4ngdAGcRciCam3MQOvLuSeTXncsl3ZDaElGAURulNxKXBMEK', '10000000022', 'USER', 'user22'),
(25, 'Tomasz', FALSE, 'Lewandowski', '$2a$10$Mpw36WNX/tT6ETZFuNs2G.w0r70IA0mR8ZtpyobNdMhtjYyYfqZjy', '10000000023', 'USER', 'user23'),
(26, 'Tomasz', FALSE, U&'W\00f3jcik', '$2a$10$bLdn.mugKrdnHMuKl5VGIuFEatnKsOltxWy5BN5IwsOMXPQkdFHMm', '10000000024', 'USER', 'user24'),
(27, 'Jan', FALSE, U&'Kami\0144ski', '$2a$10$KkwrB4uEUl.lp3rqwJYjEOcvDXhvYcv.0TniEx5INoIVns2/oAE5q', '10000000025', 'USER', 'user25'),
(28, U&'Pawe\0142', FALSE, U&'Wo\017aniak', '$2a$10$jLkzCGgy7We5U29sm6rmwOkODd9Ohe3OdtIIGpsLqqwQ0wCqlD6Em', '10000000026', 'USER', 'user26'),
(29, 'Agnieszka', FALSE, 'Lewandowski', '$2a$10$LQzB5KcUpsgH3STf4mc8keEruwNNy8sqyS5SlJI0lnAuA3KDA2G6i', '10000000027', 'USER', 'user27'),
(30, 'Piotr', FALSE, U&'Zieli\0144ski', '$2a$10$2ZS3M8guNnNc11gNl0QoseLG6oqV7p.UgXfMIcct3JKJWZbXqYnHm', '10000000028', 'USER', 'user28');             
INSERT INTO "PUBLIC"."USERS" VALUES
(31, 'Jan', FALSE, U&'W\00f3jcik', '$2a$10$fcKJW1a3fJYeWsZfGxNlhuSdExyzTTrOdcZSqDDsyBLOR6ow/7sk2', '10000000029', 'USER', 'user29'),
(32, 'Katarzyna', FALSE, U&'Zieli\0144ski', '$2a$10$uwxDabORqbjeNuDS9KbTG.nplCIYazNZYWn6H3PaW1DZdQ3dqr/Cm', '10000000030', 'USER', 'user30'),
(33, 'Tomasz', FALSE, 'Kowalski', '$2a$10$88TtNyHUTYUAE.3N71kj2ukBMKshGJZiXd/MT0chFc3SL0CvnbUdy', '10000000031', 'USER', 'user31'),
(34, 'Jan', FALSE, U&'Wi\015bniewski', '$2a$10$0chFpgSbyDUo4p7H7PVPGe.amRwvRnmpGnr/pj0MuHaodPj7Ar1XC', '10000000032', 'USER', 'user32'),
(35, 'Jan', FALSE, U&'Wi\015bniewski', '$2a$10$hJTZUd5V7mIYEimn8xuQ9.8Is03hy63tKk1L0nsl2Zz6YCrKsG8g.', '10000000033', 'USER', 'user33'),
(36, 'Marek', FALSE, U&'Wo\017aniak', '$2a$10$4S/qhltwLg6VglOW.amso.2pnoDD08ARedAkFNM5slB5eXwBvIS6G', '10000000034', 'USER', 'user34'),
(37, 'Tomasz', FALSE, U&'W\00f3jcik', '$2a$10$FX62/Xf0T.yi6oaoQk6jnOhl8tIC6MNVR8Sa/3CviSrMx1Vabuuma', '10000000035', 'USER', 'user35'),
(38, 'Agnieszka', FALSE, U&'Wo\017aniak', '$2a$10$QjXWEHp16B19vWjmUiF7YuhtBz154A3cjp.cd8hNTrZYkm6uOYjtm', '10000000036', 'USER', 'user36'),
(39, 'Tomasz', FALSE, U&'Wo\017aniak', '$2a$10$LFiYRxMfQtr55t2YWrp8L.4QEhRIA2pvY9bJkYcwjCYi4uLYh0rzK', '10000000037', 'USER', 'user37'),
(40, 'Piotr', FALSE, U&'D\0105browski', '$2a$10$AUD0va4N9IdiRpyoMaurUu9x.Hki1F42iq.BvwmWuAEm5iICyl4RS', '10000000038', 'USER', 'user38'),
(41, 'Magda', FALSE, U&'Wo\017aniak', '$2a$10$9Tsw2X14CpYPMfuHneTXGuTwt79gGhf99LsNOAsOzTmhZBdZbyJ4S', '10000000039', 'USER', 'user39'),
(42, 'Monika', FALSE, U&'W\00f3jcik', '$2a$10$IrJb1jriiLjeYieqI4hAC.h9//AlizJ72d7doZJ2XQRosI66YbEpO', '10000000040', 'USER', 'user40'),
(43, 'Monika', FALSE, 'Kowalski', '$2a$10$tm3L8s/LdUWfgfxWjLb5PuecQvQok.u9oOOKoYEw2T/kN/.DPUyGe', '10000000041', 'USER', 'user41'),
(44, 'Tomasz', FALSE, U&'Kami\0144ski', '$2a$10$KubEOlRt5ALVaXFpzzrOX.eNMsGe90sYGwoyE/4Cj1gUaHJ0A/11q', '10000000042', 'USER', 'user42'),
(45, 'Monika', FALSE, U&'W\00f3jcik', '$2a$10$V0/fRnRKiLgLNUL.m/t8OeMEDkiPYHyfyIVmhVq8eIFlyTBWVsVTO', '10000000043', 'USER', 'user43'),
(46, 'Agnieszka', FALSE, U&'W\00f3jcik', '$2a$10$bl/1DJFjrE8ZjIj2nCpmOeA9.aIeD2ultQJ/nzYhAunoECId.AZqy', '10000000044', 'USER', 'user44'),
(47, 'Agnieszka', FALSE, 'Lewandowski', '$2a$10$4LA4v6s3GgrTRUfikvNF3.9RiudGLCLnbczCH3Kz9OvAFwWGs6dnK', '10000000045', 'USER', 'user45'),
(48, 'Katarzyna', FALSE, U&'Wo\017aniak', '$2a$10$9pJLoakbVZUDrvBb.51eS.HtQ3C302IXetVEU8QmjTGXedawivEhe', '10000000046', 'USER', 'user46'),
(49, 'Anna', FALSE, 'Kowalski', '$2a$10$sG7n7p/y0gc4huMUlcqviOtC3X7KLJDfcxwXh7YvvvlBKq7NXeWyi', '10000000047', 'USER', 'user47'),
(50, 'Anna', FALSE, 'Lewandowski', '$2a$10$HxdO2KKX6bRlyBLOF7EqO.hXdmyTomhnpSZ8QFU4ETf67S7R31fUG', '10000000048', 'USER', 'user48'),
(51, 'Anna', FALSE, U&'Kami\0144ski', '$2a$10$SmF5JJjFMHBv5wAwV5wa4uhRyRMY2QVSK7EO8QL/zriswO/P/4/H.', '10000000049', 'USER', 'user49'),
(52, 'Magda', FALSE, U&'Szyma\0144ski', '$2a$10$BTC9Z2.MtEe4CfDPpY6DS.9DFIRjLnqaK/JCjEWFsBivhG1vXjliO', '10000000050', 'USER', 'user50');             
CREATE CACHED TABLE "PUBLIC"."VOTES"(
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1 RESTART WITH 11) NOT NULL,
    "HAS_VOTED" BOOLEAN NOT NULL,
    "VOTE_TIME" TIMESTAMP(6) NOT NULL,
    "CANDIDATE_ID" BIGINT,
    "USER_ID" BIGINT
);              
ALTER TABLE "PUBLIC"."VOTES" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_4E" PRIMARY KEY("ID");       
-- 10 +/- SELECT COUNT(*) FROM PUBLIC.VOTES;  
INSERT INTO "PUBLIC"."VOTES" VALUES
(1, FALSE, TIMESTAMP '2025-06-02 01:07:41.721076', 1, 3),
(2, FALSE, TIMESTAMP '2025-06-02 01:08:01.660704', 1, 4),
(3, FALSE, TIMESTAMP '2025-06-02 01:08:10.485262', 1, 5),
(4, FALSE, TIMESTAMP '2025-06-02 01:08:18.74781', 1, 6),
(5, FALSE, TIMESTAMP '2025-06-02 01:08:28.624073', 1, 7),
(6, FALSE, TIMESTAMP '2025-06-02 01:08:41.264531', 1, 8),
(7, FALSE, TIMESTAMP '2025-06-02 01:08:53.638943', 1, 9),
(8, FALSE, TIMESTAMP '2025-06-02 01:09:05.015114', 2, 10),
(9, FALSE, TIMESTAMP '2025-06-02 01:09:14.704246', 2, 11),
(10, FALSE, TIMESTAMP '2025-06-02 01:09:24.28227', 3, 12);           
ALTER TABLE "PUBLIC"."USERS" ADD CONSTRAINT "PUBLIC"."UK_DC4EQ7PLR20FDHQ528TWSAK1B" UNIQUE("USERNAME");       
ALTER TABLE "PUBLIC"."USERS" ADD CONSTRAINT "PUBLIC"."UK_L2INJKE585YM9494Q1I4HJ8BM" UNIQUE("PESEL");          
ALTER TABLE "PUBLIC"."VOTES" ADD CONSTRAINT "PUBLIC"."FKQD0UT9PP4GAF2FGA1JWPNBTVF" FOREIGN KEY("CANDIDATE_ID") REFERENCES "PUBLIC"."CANDIDATE"("ID") NOCHECK; 
ALTER TABLE "PUBLIC"."VOTES" ADD CONSTRAINT "PUBLIC"."FKI88G44R9DYLXGB8UDAGU045A8" FOREIGN KEY("USER_ID") REFERENCES "PUBLIC"."USERS"("ID") NOCHECK;          



ŒCIE¯KA: wyniki.csv
----------------------
Kandydat;Liczba g³osów
Jan Kowalski;7
Anna Nowak;2
Jan Tarczynski;1



ŒCIE¯KA: wyniki.pdf
----------------------
[PLIK BINARNY - POMINIÊTO ZAWARTOŒÆ]


ŒCIE¯KA: .idea\.gitignore
----------------------------
[PLIK BINARNY - POMINIÊTO ZAWARTOŒÆ]


ŒCIE¯KA: .idea\compiler.xml
------------------------------
<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CompilerConfiguration">
    <annotationProcessing>
      <profile name="Maven default annotation processors profile" enabled="true">
        <sourceOutputDir name="target/generated-sources/annotations" />
        <sourceTestOutputDir name="target/generated-test-sources/test-annotations" />
        <outputRelativeToContentRoot value="true" />
        <module name="Wybory" />
      </profile>
    </annotationProcessing>
  </component>
</project>


ŒCIE¯KA: .idea\encodings.xml
-------------------------------
<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="Encoding">
    <file url="file://$PROJECT_DIR$/src/main/java" charset="UTF-8" />
    <file url="file://$PROJECT_DIR$/src/main/resources" charset="UTF-8" />
  </component>
</project>


ŒCIE¯KA: .idea\jarRepositories.xml
-------------------------------------
<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="RemoteRepositoriesConfiguration">
    <remote-repository>
      <option name="id" value="central" />
      <option name="name" value="Central Repository" />
      <option name="url" value="https://repo.maven.apache.org/maven2" />
    </remote-repository>
    <remote-repository>
      <option name="id" value="central" />
      <option name="name" value="Maven Central repository" />
      <option name="url" value="https://repo1.maven.org/maven2" />
    </remote-repository>
    <remote-repository>
      <option name="id" value="jboss.community" />
      <option name="name" value="JBoss Community repository" />
      <option name="url" value="https://repository.jboss.org/nexus/content/repositories/public/" />
    </remote-repository>
  </component>
</project>


ŒCIE¯KA: .idea\misc.xml
--------------------------
<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="ExternalStorageConfigurationManager" enabled="true" />
  <component name="MavenProjectsManager">
    <option name="originalFiles">
      <list>
        <option value="$PROJECT_DIR$/pom.xml" />
      </list>
    </option>
  </component>
  <component name="ProjectRootManager" version="2" languageLevel="JDK_17" default="true" project-jdk-name="ms-17" project-jdk-type="JavaSDK">
    <output url="file://$PROJECT_DIR$/out" />
  </component>
</project>


ŒCIE¯KA: .idea\vcs.xml
-------------------------
<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="VcsDirectoryMappings">
    <mapping directory="$PROJECT_DIR$" vcs="Git" />
  </component>
</project>


ŒCIE¯KA: .idea\workspace.xml
-------------------------------
<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="ArtifactsWorkspaceSettings">
    <artifacts-to-build>
      <artifact name="Wybory:jar" />
    </artifacts-to-build>
  </component>
  <component name="AutoImportSettings">
    <option name="autoReloadType" value="SELECTIVE" />
  </component>
  <component name="ChangeListManager">
    <list default="true" id="e9c5088e-ab39-436c-a56e-66d5552ef37a" name="Changes" comment="V0.9" />
    <option name="SHOW_DIALOG" value="false" />
    <option name="HIGHLIGHT_CONFLICTS" value="true" />
    <option name="HIGHLIGHT_NON_ACTIVE_CHANGELIST" value="false" />
    <option name="LAST_RESOLUTION" value="IGNORE" />
  </component>
  <component name="FileTemplateManagerImpl">
    <option name="RECENT_TEMPLATES">
      <list>
        <option value="Class" />
      </list>
    </option>
  </component>
  <component name="Git.Settings">
    <option name="PUSH_TAGS">
      <GitPushTagMode>
        <option name="argument" value="--tags" />
        <option name="title" value="All" />
      </GitPushTagMode>
    </option>
    <option name="RECENT_GIT_ROOT_PATH" value="$PROJECT_DIR$" />
  </component>
  <component name="GitHubPullRequestSearchHistory">{
  &quot;lastFilter&quot;: {
    &quot;state&quot;: &quot;OPEN&quot;,
    &quot;assignee&quot;: &quot;Rafimaniaak&quot;
  }
}</component>
  <component name="GithubPullRequestsUISettings">{
  &quot;selectedUrlAndAccountId&quot;: {
    &quot;url&quot;: &quot;https://github.com/Rafimaniaak/Wybory.git&quot;,
    &quot;accountId&quot;: &quot;a07f7332-d502-4940-bef6-259414d3e044&quot;
  }
}</component>
  <component name="MavenImportPreferences">
    <option name="generalSettings">
      <MavenGeneralSettings>
        <option name="mavenHomeTypeForPersistence" value="WRAPPER" />
      </MavenGeneralSettings>
    </option>
  </component>
  <component name="ProblemsViewState">
    <option name="selectedTabId" value="CurrentFile" />
  </component>
  <component name="ProjectColorInfo">{
  &quot;associatedIndex&quot;: 4
}</component>
  <component name="ProjectId" id="2xPPncyrXZwkCpBl5QswHtOE6yo" />
  <component name="ProjectLevelVcsManager">
    <ConfirmationsSetting value="2" id="Add" />
  </component>
  <component name="ProjectViewState">
    <option name="hideEmptyMiddlePackages" value="true" />
    <option name="showLibraryContents" value="true" />
  </component>
  <component name="PropertiesComponent">{
  &quot;keyToString&quot;: {
    &quot;Application.HashGenerator.executor&quot;: &quot;Run&quot;,
    &quot;Application.HelloApplication.executor&quot;: &quot;Run&quot;,
    &quot;Application.Main.executor&quot;: &quot;Run&quot;,
    &quot;Application.Wybory.executor&quot;: &quot;Run&quot;,
    &quot;JAR Application.Wybory.jar.executor&quot;: &quot;Run&quot;,
    &quot;Maven.Wybory [clean].executor&quot;: &quot;Run&quot;,
    &quot;Maven.election-system [clean,install].executor&quot;: &quot;Run&quot;,
    &quot;Maven.election-system [clean,package].executor&quot;: &quot;Run&quot;,
    &quot;Maven.election-system [org.apache.maven.plugins:maven-clean-plugin:2.5:clean].executor&quot;: &quot;Run&quot;,
    &quot;Maven.election-system [package].executor&quot;: &quot;Run&quot;,
    &quot;ModuleVcsDetector.initialDetectionPerformed&quot;: &quot;true&quot;,
    &quot;RunOnceActivity.ShowReadmeOnStart&quot;: &quot;true&quot;,
    &quot;RunOnceActivity.git.unshallow&quot;: &quot;true&quot;,
    &quot;SHARE_PROJECT_CONFIGURATION_FILES&quot;: &quot;true&quot;,
    &quot;git-widget-placeholder&quot;: &quot;master&quot;,
    &quot;ignore.virus.scanning.warn.message&quot;: &quot;true&quot;,
    &quot;last_opened_file_path&quot;: &quot;C:/Users/Rafimaniaak/ProjektJAVA/Wybory/src/main/resources&quot;,
    &quot;project.structure.last.edited&quot;: &quot;Artifacts&quot;,
    &quot;project.structure.proportion&quot;: &quot;0.15&quot;,
    &quot;project.structure.side.proportion&quot;: &quot;0.2&quot;,
    &quot;run.code.analysis.last.selected.profile&quot;: &quot;pProject Default&quot;,
    &quot;settings.editor.selected.configurable&quot;: &quot;preferences.pluginManager&quot;
  }
}</component>
  <component name="RecentsManager">
    <key name="CopyFile.RECENT_KEYS">
      <recent name="C:\Users\Rafimaniaak\ProjektJAVA\Wybory\src\main\resources" />
      <recent name="C:\Users\Rafimaniaak\ProjektJAVA\Wybory\src\main\java\com\election" />
      <recent name="C:\Users\Rafimaniaak\ProjektJAVA\Wybory\src\main\resources\com\election\view" />
      <recent name="C:\Users\Rafimaniaak\ProjektJAVA\Wybory\src\main\resources\com\election" />
    </key>
    <key name="MoveFile.RECENT_KEYS">
      <recent name="C:\Users\Rafimaniaak\ProjektJAVA\Wybory\src\main\resources\com\election\view" />
      <recent name="C:\Users\Rafimaniaak\ProjektJAVA\Wybory\src\main\resources" />
    </key>
    <key name="MoveClassesOrPackagesDialog.RECENTS_KEY">
      <recent name="com.election" />
      <recent name="com.election.wybory" />
    </key>
    <key name="CopyClassDialog.RECENTS_KEY">
      <recent name="com.election.model" />
      <recent name="com.election.dao" />
      <recent name="com.election" />
      <recent name="com.election.util" />
      <recent name="com.election.service" />
    </key>
  </component>
  <component name="RunAnythingCache">
    <option name="myCommands">
      <command value="mvn clean" />
      <command value="mvn clean install" />
      <command value="mvn clean package" />
    </option>
  </component>
  <component name="RunManager" selected="Application.Wybory">
    <configuration name="Wybory" type="Application" factoryName="Application">
      <option name="MAIN_CLASS_NAME" value="com.election.Main" />
      <module name="Wybory" />
      <method v="2">
        <option name="Make" enabled="true" />
      </method>
    </configuration>
    <configuration name="Wybory.jar" type="JarApplication" temporary="true">
      <option name="JAR_PATH" value="$PROJECT_DIR$/out/artifacts/Wybory_jar/Wybory.jar" />
      <option name="ALTERNATIVE_JRE_PATH_ENABLED" value="true" />
      <option name="ALTERNATIVE_JRE_PATH" value="ms-17" />
      <module name="Wybory" />
      <method v="2" />
    </configuration>
    <list>
      <item itemvalue="Application.Wybory" />
      <item itemvalue="JAR Application.Wybory.jar" />
    </list>
    <recent_temporary>
      <list>
        <item itemvalue="JAR Application.Wybory.jar" />
      </list>
    </recent_temporary>
  </component>
  <component name="TaskManager">
    <task active="true" id="Default" summary="Default task">
      <changelist id="e9c5088e-ab39-436c-a56e-66d5552ef37a" name="Changes" comment="" />
      <created>1747836905852</created>
      <option name="number" value="Default" />
      <option name="presentableId" value="Default" />
      <updated>1747836905852</updated>
    </task>
    <task id="LOCAL-00001" summary="Commit">
      <option name="closed" value="true" />
      <created>1748217538783</created>
      <option name="number" value="00001" />
      <option name="presentableId" value="LOCAL-00001" />
      <option name="project" value="LOCAL" />
      <updated>1748217538783</updated>
    </task>
    <task id="LOCAL-00002" summary="V0.7">
      <option name="closed" value="true" />
      <created>1748812968459</created>
      <option name="number" value="00002" />
      <option name="presentableId" value="LOCAL-00002" />
      <option name="project" value="LOCAL" />
      <updated>1748812968459</updated>
    </task>
    <task id="LOCAL-00003" summary="V0.7">
      <option name="closed" value="true" />
      <created>1748812984043</created>
      <option name="number" value="00003" />
      <option name="presentableId" value="LOCAL-00003" />
      <option name="project" value="LOCAL" />
      <updated>1748812984043</updated>
    </task>
    <task id="LOCAL-00004" summary="V0.7">
      <option name="closed" value="true" />
      <created>1748819518782</created>
      <option name="number" value="00004" />
      <option name="presentableId" value="LOCAL-00004" />
      <option name="project" value="LOCAL" />
      <updated>1748819518782</updated>
    </task>
    <task id="LOCAL-00005" summary="V0.8">
      <option name="closed" value="true" />
      <created>1748877257891</created>
      <option name="number" value="00005" />
      <option name="presentableId" value="LOCAL-00005" />
      <option name="project" value="LOCAL" />
      <updated>1748877257891</updated>
    </task>
    <task id="LOCAL-00006" summary="V0.8">
      <option name="closed" value="true" />
      <created>1748878296427</created>
      <option name="number" value="00006" />
      <option name="presentableId" value="LOCAL-00006" />
      <option name="project" value="LOCAL" />
      <updated>1748878296427</updated>
    </task>
    <task id="LOCAL-00007" summary="V0.8">
      <option name="closed" value="true" />
      <created>1748983732149</created>
      <option name="number" value="00007" />
      <option name="presentableId" value="LOCAL-00007" />
      <option name="project" value="LOCAL" />
      <updated>1748983732149</updated>
    </task>
    <task id="LOCAL-00008" summary="V0.9">
      <option name="closed" value="true" />
      <created>1749167559132</created>
      <option name="number" value="00008" />
      <option name="presentableId" value="LOCAL-00008" />
      <option name="project" value="LOCAL" />
      <updated>1749167559132</updated>
    </task>
    <option name="localTasksCounter" value="9" />
    <servers />
  </component>
  <component name="UnknownFeatures">
    <option featureType="com.intellij.fileTypeFactory" implementationName="*.db" />
  </component>
  <component name="Vcs.Log.Tabs.Properties">
    <option name="TAB_STATES">
      <map>
        <entry key="MAIN">
          <value>
            <State />
          </value>
        </entry>
      </map>
    </option>
  </component>
  <component name="VcsManagerConfiguration">
    <MESSAGE value="Commit" />
    <MESSAGE value="V0.7" />
    <MESSAGE value="V0.8" />
    <MESSAGE value="V0.9" />
    <option name="LAST_COMMIT_MESSAGE" value="V0.9" />
  </component>
  <component name="XDebuggerManager">
    <breakpoint-manager>
      <breakpoints>
        <breakpoint enabled="true" type="java-exception">
          <properties class="com.election.exception.VotingException" package="com.election.exception" />
          <option name="timeStamp" value="1" />
        </breakpoint>
      </breakpoints>
    </breakpoint-manager>
  </component>
</project>


ŒCIE¯KA: .idea\artifacts\Wybory.xml
--------------------------------------
<component name="ArtifactManager">
  <artifact type="javafx" name="Wybory">
    <output-path>$PROJECT_DIR$/out/artifacts/Wybory</output-path>
    <root id="root">
      <element id="archive" name="Wybory.jar">
        <element id="module-output" name="Wybory" />
      </element>
    </root>
  </artifact>
</component>


ŒCIE¯KA: .idea\dictionaries\project.xml
------------------------------------------
<component name="ProjectDictionaryState">
  <dictionary name="project">
    <words>
      <w>dodaj</w>
      <w>hasÅ‚o</w>
      <w>nowego</w>
      <w>uÅ¼ytkownika</w>
    </words>
  </dictionary>
</component>


ŒCIE¯KA: .mvn\wrapper\maven-wrapper.jar
------------------------------------------
[PLIK BINARNY - POMINIÊTO ZAWARTOŒÆ]


ŒCIE¯KA: .mvn\wrapper\maven-wrapper.properties
-------------------------------------------------
distributionUrl=https://repo.maven.apache.org/maven2/org/apache/maven/apache-maven/3.8.5/apache-maven-3.8.5-bin.zip
wrapperUrl=https://repo.maven.apache.org/maven2/org/apache/maven/wrapper/maven-wrapper/3.1.0/maven-wrapper-3.1.0.jar


ŒCIE¯KA: database\election_db.mv.db
--------------------------------------
[PLIK BINARNY - POMINIÊTO ZAWARTOŒÆ]


ŒCIE¯KA: database\election_db.trace.db
-----------------------------------------
[PLIK BINARNY - POMINIÊTO ZAWARTOŒÆ]


ŒCIE¯KA: src\main\java\module-info.java
------------------------------------------
module com.election {
    requires java.naming;
    requires javafx.controls;
    requires javafx.fxml;
    requires java.sql;
//    requires javafx.web;
//
//    requires org.controlsfx.controls;
//    requires com.dlsc.formsfx;
//    requires net.synedra.validatorfx;
//    requires org.kordamp.ikonli.javafx;
//    requires org.kordamp.bootstrapfx.core;
//    requires eu.hansolo.tilesfx;
//    requires com.almasb.fxgl.all;
    //requires java.persistence;
    requires jbcrypt;
    requires org.hibernate.orm.core;
    requires org.slf4j;
    requires jakarta.persistence;
    requires com.github.librepdf.openpdf;

    exports com.election;
    opens com.election to javafx.fxml;
    exports com.election.controller;
    opens com.election.controller to javafx.fxml;
    opens com.election.util to org.hibernate.orm.core; // JeÅ›li HibernateUtil jest w pakiecie util
    opens com.election.model to org.hibernate.orm.core, javafx.base;
}



ŒCIE¯KA: src\main\java\com\election\HashGenerator.java
---------------------------------------------------------
package com.election;

import javafx.application.Application;
import javafx.geometry.Insets;
import javafx.geometry.Pos;
import javafx.scene.Scene;
import javafx.scene.control.Button;
import javafx.scene.control.Label;
import javafx.scene.control.TextField;
import javafx.scene.input.Clipboard;
import javafx.scene.input.ClipboardContent;
import javafx.scene.layout.VBox;
import javafx.stage.Stage;
import org.mindrot.jbcrypt.BCrypt;

public class HashGenerator extends Application {
    private Stage parentStage;

    public void setParentStage(Stage parentStage) {
        this.parentStage = parentStage;
    }

    @Override
    public void start(Stage stage) {
        VBox root = new VBox(20);
        root.setPadding(new Insets(20));
        root.setAlignment(Pos.CENTER);

        Label titleLabel = new Label("Generator Hashy BCrypt");
        TextField passwordField = new TextField();
        passwordField.setPromptText("WprowadÅº hasÅ‚o");
        passwordField.setMaxWidth(300);

        TextField hashField = new TextField();
        hashField.setPromptText("Wygenerowany hash");
        hashField.setMaxWidth(300);
        hashField.setEditable(false);

        Button generateBtn = new Button("Generuj Hash");
        Button copyBtn = new Button("Kopiuj do schowka");

        generateBtn.setOnAction(e -> {
            String password = passwordField.getText();
            if (!password.isEmpty()) {
                String hash = BCrypt.hashpw(password, BCrypt.gensalt());
                hashField.setText(hash);
            }
        });

        copyBtn.setOnAction(e -> {
            if (!hashField.getText().isEmpty()) {
                Clipboard clipboard = Clipboard.getSystemClipboard();
                ClipboardContent content = new ClipboardContent();
                content.putString(hashField.getText());
                clipboard.setContent(content);
            }
        });

        Button backButton = new Button("â† PowrÃ³t do panelu admina");
        backButton.setOnAction(e -> {
            if (parentStage != null) {
                parentStage.show();
            }
            stage.close();
        });

        root.getChildren().addAll(
                titleLabel,
                passwordField,
                hashField,
                generateBtn,
                copyBtn,
                backButton
        );

        Scene scene = new Scene(root, 400, 300);
        stage.setTitle("Generator Hashy BCrypt");
        stage.setScene(scene);
        stage.show();
    }

    public static void main(String[] args) {
        launch(args);
    }
}


ŒCIE¯KA: src\main\java\com\election\Main.java
------------------------------------------------
package com.election;

import com.election.util.DataInitializer;
import com.election.util.HibernateUtil;
import javafx.application.Application;
import javafx.fxml.FXMLLoader;
import javafx.scene.Parent;
import javafx.scene.Scene;
import javafx.stage.Stage;
import org.hibernate.Session;

import java.net.URL;

public class Main extends Application {

    @Override
    public void start(Stage primaryStage) throws Exception {
        // Inicjalizacja Hibernate i danych startowych
        initializeHibernate();

        // ZaÅ‚aduj GUI (login.fxml)
        URL url = getClass().getResource("/com/election/view/login.fxml");
        if (url == null) {
            throw new IllegalStateException("Nie znaleziono pliku FXML: login.fxml");
        }

        Parent root = FXMLLoader.load(url);
        Scene scene = new Scene(root);

        primaryStage.setTitle("System gÅ‚osowania");
        primaryStage.setScene(scene);
        primaryStage.show();
    }

    private void initializeHibernate() {
        Session session = HibernateUtil.getSessionFactory().openSession();
        session.beginTransaction();

        DataInitializer.initializeIfEmpty(session);

        session.getTransaction().commit();
        session.close();

    }

    public static void main(String[] args) {
        launch(args);
    }

    @Override
    public void stop() {
        HibernateUtil.shutdown();
        System.out.println("Aplikacja zostaÅ‚a zamkniÄ™ta");
    }
}


ŒCIE¯KA: src\main\java\com\election\controller\AdminController.java
----------------------------------------------------------------------
package com.election.controller;

import com.election.HashGenerator;
import com.election.dao.CandidateDAO;
import com.election.dao.UserDAO;
import com.election.model.CandidateResult;
import com.election.model.User;
import com.election.service.ElectionService;
import com.election.service.ExportService;
import com.election.service.ExportServicePDF;
import javafx.application.Platform;
import javafx.collections.FXCollections;
import javafx.collections.ObservableList;
import javafx.event.ActionEvent;
import javafx.fxml.FXML;
import javafx.fxml.FXMLLoader;
import javafx.scene.Node;
import javafx.scene.Parent;
import javafx.scene.Scene;
import javafx.scene.control.*;
import javafx.scene.control.cell.PropertyValueFactory;
import javafx.stage.FileChooser;
import javafx.stage.Stage;
import javafx.scene.chart.BarChart;
import javafx.scene.chart.CategoryAxis;
import javafx.scene.chart.NumberAxis;
import javafx.scene.chart.XYChart;
import javafx.scene.paint.Color;

import javax.xml.transform.Result;
import java.io.*;
import java.nio.charset.StandardCharsets;
import java.time.LocalDateTime;
import java.time.format.DateTimeFormatter;
import java.util.List;
import java.util.stream.Collectors;

public class AdminController {

    private final CandidateDAO candidateDAO = new CandidateDAO();

    @FXML private TableView<User> usersTable;
    @FXML private TableColumn<User, Long> idColumn;
    @FXML private TableColumn<User, String> usernameColumn;
    @FXML private TableColumn<User, String> roleColumn;

    @FXML private TableView<CandidateResult> resultsTable;
    @FXML private TableColumn<CandidateResult, String> candidateColumn;
    @FXML private TableColumn<CandidateResult, Number> votesColumn;

    @FXML private BarChart<String, Number> resultsChart;
    @FXML private CategoryAxis xAxis;
    @FXML private NumberAxis yAxis;

    @FXML private Label statusLabel;

    private final UserDAO userDAO = new UserDAO();
    private final ElectionService electionService = new ElectionService();
    private final ObservableList<CandidateResult> candidatesData = FXCollections.observableArrayList();
    private User currentAdmin;

    @FXML private TextField usernameField;
    @FXML private TextField passwordField;
    @FXML private ComboBox<String> roleComboBox;
    @FXML private Label addUserStatusLabel;
    @FXML private TextField firstNameField;
    @FXML private TextField lastNameField;
    @FXML private TextField peselField;

    @FXML private TextField editUserIdField;
    @FXML private TextField editUsernameField;
    @FXML private TextField editPasswordField;
    @FXML private ComboBox<String> editRoleComboBox;
    @FXML private Label editUserStatusLabel;
    @FXML private TextField editFirstNameField;
    @FXML private TextField editLastNameField;
    @FXML private TextField editPeselField;

    @FXML private TextField deleteUserIdField;
    @FXML private Label deleteUserStatusLabel;

    @FXML private TextField searchUsernameField;
    @FXML private TextField searchFirstNameField;
    @FXML private TextField searchLastNameField;
    @FXML private TextField searchPeselField;

    @FXML
    public void initialize() {
        configureUserTable();
        configureResultsTable();
        loadInitialData();
        roleComboBox.setItems(FXCollections.observableArrayList("USER", "ADMIN"));
        editRoleComboBox.setItems(FXCollections.observableArrayList("USER", "ADMIN"));

        xAxis.setTickLabelFill(Color.WHITE);
        xAxis.setLabel("Kandydat");

        yAxis.setTickLabelFill(Color.WHITE);
        yAxis.setLabel("GÅ‚osy");

        resultsChart.setTitle("GÅ‚osy wg kandydata");

        Platform.runLater(() -> {
            Node title = resultsChart.lookup(".chart-title");
            if (title != null) title.setStyle("-fx-text-fill: white;");

            Node xAxisLabel = xAxis.lookup(".axis-label");
            if (xAxisLabel != null) xAxisLabel.setStyle("-fx-text-fill: white;");

            Node yAxisLabel = yAxis.lookup(".axis-label");
            if (yAxisLabel != null) yAxisLabel.setStyle("-fx-text-fill: white;");
        });
    }

    private void configureUserTable() {
        idColumn.setCellValueFactory(new PropertyValueFactory<>("id"));
        usernameColumn.setCellValueFactory(new PropertyValueFactory<>("username"));
        roleColumn.setCellValueFactory(new PropertyValueFactory<>("role"));
        firstNameColumn.setCellValueFactory(new PropertyValueFactory<>("firstName"));
        lastNameColumn.setCellValueFactory(new PropertyValueFactory<>("lastName"));
        peselColumn.setCellValueFactory(new PropertyValueFactory<>("pesel"));
    }


    private void configureResultsTable() {
        candidateColumn.setCellValueFactory(new PropertyValueFactory<>("name"));
        votesColumn.setCellValueFactory(new PropertyValueFactory<>("votes"));

        votesColumn.setCellFactory(tc -> new TableCell<>() {
            @Override
            protected void updateItem(Number value, boolean empty) {
                super.updateItem(value, empty);
                setText(empty || value == null ? "" : String.format("%,d", value.intValue()));
            }
        });
    }

    private void loadInitialData() {
        List<User> users = userDAO.getAllUsers();
        masterUserList.setAll(users);
        usersTable.setItems(masterUserList);
        refreshElectionData();
    }

    public void initializeWithUser(User adminUser) {
        this.currentAdmin = adminUser;
        logAdminAccess();
    }

    private void logAdminAccess() {
        System.out.println("Administrator " + currentAdmin.getUsername()
                + " zalogowany o " + LocalDateTime.now().format(DateTimeFormatter.ofPattern("HH:mm:ss")));
    }

    @FXML
    private void refreshResults(ActionEvent event) {
        refreshElectionData();
    }

    private void refreshElectionData() {
        if (statusLabel != null) {
            statusLabel.setText("OdÅ›wieÅ¼anie wynikÃ³w...");
        }

        try {
            List<CandidateResult> results = electionService.getCurrentResults();
            candidatesData.setAll(results);
            resultsTable.setItems(candidatesData);

            resultsChart.getData().clear();
            XYChart.Series<String, Number> series = new XYChart.Series<>();
            int maxVotes = 0;

            for (CandidateResult result : results) {
                int votes = result.getVotes();
                series.getData().add(new XYChart.Data<>(result.getName(), votes));
                if (votes > maxVotes) {
                    maxVotes = votes;
                }
            }
            resultsChart.getData().add(series);

            updateYAxisRange(maxVotes);

            if (statusLabel != null) {
                statusLabel.setText("Wyniki zaktualizowane: " + LocalDateTime.now()
                        .format(DateTimeFormatter.ofPattern("HH:mm:ss")));
            }

        } catch (Exception e) {
            if (statusLabel != null) {
                statusLabel.setText("BÅ‚Ä…d podczas aktualizacji!");
            }
            e.printStackTrace();
        }
    }

    private void updateYAxisRange(int maxVotes) {
        yAxis.setAutoRanging(false);
        yAxis.setLowerBound(0);
        yAxis.setUpperBound(maxVotes < 5 ? 5 : maxVotes + 1);
        yAxis.setTickUnit(1);
        yAxis.setMinorTickVisible(false);
        yAxis.setTickLabelFormatter(new NumberAxis.DefaultFormatter(yAxis) {
            @Override
            public String toString(Number object) {
                return String.valueOf(object.intValue());
            }
        });
    }

    @FXML
    private void handleLogout(ActionEvent event) {
        try {
            Stage currentStage = (Stage) ((Node) event.getSource()).getScene().getWindow();
            currentStage.close();

            FXMLLoader loader = new FXMLLoader(getClass().getResource("/com/election/view/login.fxml"));
            Parent root = loader.load();
            Stage loginStage = new Stage();
            loginStage.setScene(new Scene(root));
            loginStage.setTitle("Logowanie");
            loginStage.show();
        } catch (IOException e) {
            showErrorAlert("BÅ‚Ä…d logowania", e.getMessage());
        }
    }

    @FXML
    private void handleOpenHashGenerator(ActionEvent event) {
        try {
            Stage adminStage = (Stage) ((Node) event.getSource()).getScene().getWindow();
            Stage hashStage = new Stage();
            HashGenerator hashGenerator = new HashGenerator();
            hashGenerator.setParentStage(adminStage);
            hashGenerator.start(hashStage);
        } catch (Exception e) {
            showErrorAlert("BÅ‚Ä…d generatora", e.getMessage());
        }
    }

    private void showErrorAlert(String title, String message) {
        Alert alert = new Alert(Alert.AlertType.ERROR);
        alert.setTitle(title);
        alert.setHeaderText(null);
        alert.setContentText(message);
        alert.showAndWait();
    }

    @FXML
    private void handleAddUser(ActionEvent event) {
        String username = usernameField.getText().trim();
        String password = passwordField.getText().trim();
        String role = roleComboBox.getValue();
        String firstName = firstNameField.getText().trim();
        String lastName = lastNameField.getText().trim();
        String pesel = peselField.getText().trim();

        if (username.isEmpty() || password.isEmpty() || role == null || firstName.isEmpty() || lastName.isEmpty() || pesel.isEmpty()) {
            addUserStatusLabel.setText("Wszystkie pola sÄ… wymagane!");
            return;
        }

        try {
            User user = new User();
            user.setUsername(username);
            user.setPassword(password);
            user.setRole(role);
            user.setHasVoted(false);
            user.setFirstName(firstName);
            user.setLastName(lastName);
            user.setPesel(pesel);

            userDAO.saveUser(user);
            usersTable.getItems().add(user);
            addUserStatusLabel.setText("UÅ¼ytkownik dodany pomyÅ›lnie.");
            clearAddUserForm();
        } catch (Exception e) {
            addUserStatusLabel.setText("BÅ‚Ä…d: " + e.getMessage());
            e.printStackTrace();
        }
    }

    @FXML
    private void handleEditUser(ActionEvent event) {
        try {
            long id = Long.parseLong(editUserIdField.getText().trim());
            User user = userDAO.getUserById(id);
            if (user == null) {
                editUserStatusLabel.setText("Nie znaleziono uÅ¼ytkownika.");
                return;
            }

            String newUsername = editUsernameField.getText().trim();
            String newPassword = editPasswordField.getText().trim();
            String newRole = editRoleComboBox.getValue();
            String newFirstName = editFirstNameField.getText().trim();
            String newLastName = editLastNameField.getText().trim();
            String newPesel = editPeselField.getText().trim();

            if (!newUsername.isEmpty()) user.setUsername(newUsername);
            if (!newPassword.isEmpty()) user.setPassword(newPassword);
            if (newRole != null) user.setRole(newRole);
            if (!newFirstName.isEmpty()) user.setFirstName(newFirstName);
            if (!newLastName.isEmpty()) user.setLastName(newLastName);
            if (!newPesel.isEmpty()) user.setPesel(newPesel);

            userDAO.updateUser(user);
            usersTable.getItems().setAll(userDAO.getAllUsers());
            editUserStatusLabel.setText("Zmieniono dane uÅ¼ytkownika.");
        } catch (NumberFormatException e) {
            editUserStatusLabel.setText("NieprawidÅ‚owe ID.");
        } catch (Exception e) {
            editUserStatusLabel.setText("BÅ‚Ä…d: " + e.getMessage());
            e.printStackTrace();
        }
    }

    @FXML
    private void handleDeleteUser(ActionEvent event) {
        try {
            long id = Long.parseLong(deleteUserIdField.getText().trim());
            User user = userDAO.getUserById(id);
            if (user == null) {
                deleteUserStatusLabel.setText("Nie znaleziono uÅ¼ytkownika.");
                return;
            }

            userDAO.deleteUser(user);
            usersTable.getItems().removeIf(u -> u.getId() == id);
            deleteUserStatusLabel.setText("UÅ¼ytkownik usuniÄ™ty.");
        } catch (NumberFormatException e) {
            deleteUserStatusLabel.setText("NieprawidÅ‚owe ID.");
        } catch (Exception e) {
            deleteUserStatusLabel.setText("BÅ‚Ä…d: " + e.getMessage());
            e.printStackTrace();
        }
    }

    @FXML
    private void handleSearchUsers(ActionEvent event) {
        String username = searchUsernameField.getText().trim().toLowerCase();
        String firstName = searchFirstNameField.getText().trim().toLowerCase();
        String lastName = searchLastNameField.getText().trim().toLowerCase();
        String pesel = searchPeselField.getText().trim();

        List<User> allUsers = userDAO.getAllUsers();

        List<User> filteredUsers = allUsers.stream()
                .filter(user -> (username.isEmpty() || user.getUsername().toLowerCase().contains(username)) &&
                        (firstName.isEmpty() || user.getFirstName().toLowerCase().contains(firstName)) &&
                        (lastName.isEmpty() || user.getLastName().toLowerCase().contains(lastName)) &&
                        (pesel.isEmpty() || user.getPesel().contains(pesel)))
                .collect(Collectors.toList());

        usersTable.setItems(FXCollections.observableArrayList(filteredUsers));
    }

    @FXML
    private void handleClearSearch(ActionEvent event) {
        searchUsernameField.clear();
        searchFirstNameField.clear();
        searchLastNameField.clear();
        searchPeselField.clear();
        usersTable.setItems(FXCollections.observableArrayList(userDAO.getAllUsers()));
    }
    @FXML
    private TextField peselSearchField;

    @FXML private TableColumn<User, String> firstNameColumn;
    @FXML private TableColumn<User, String> lastNameColumn;
    @FXML private TableColumn<User, String> peselColumn;

    private ObservableList<User> masterUserList = FXCollections.observableArrayList();

    @FXML
    private void handlePeselSearch() {
        String pesel = peselSearchField.getText().trim();
        if (pesel.isEmpty()) {
            usersTable.setItems(masterUserList);
            return;
        }

        ObservableList<User> filtered = masterUserList.filtered(user ->
                user.getPesel() != null && user.getPesel().contains(pesel)
        );
        usersTable.setItems(filtered);
    }


    private void clearAddUserForm() {
        usernameField.clear();
        passwordField.clear();
        roleComboBox.getSelectionModel().clearSelection();
        firstNameField.clear();
        lastNameField.clear();
        peselField.clear();
    }
    @FXML
    private void handleShowAllUsers() {
        usersTable.setItems(masterUserList);
        peselSearchField.clear();
    }

    @FXML
    private void handleExportToCSV() {
        FileChooser fileChooser = new FileChooser();
        fileChooser.setTitle("Zapisz plik CSV");
        fileChooser.getExtensionFilters().add(new FileChooser.ExtensionFilter("CSV files (*.csv)", "*.csv"));
        File file = fileChooser.showSaveDialog(resultsTable.getScene().getWindow());

        if (file != null) {
            try (OutputStreamWriter writer = new OutputStreamWriter(new FileOutputStream(file), StandardCharsets.UTF_8)) {
                // Dodaj BOM â€” kluczowe dla poprawnego wyÅ›wietlania polskich znakÃ³w w Excelu
                writer.write('\uFEFF');

                // NagÅ‚Ã³wki
                writer.write("Kandydat;Liczba gÅ‚osÃ³w\n");

                // Dane
                for (CandidateResult result : resultsTable.getItems()) {
                    writer.write(result.getName() + ";" + result.getVotes() + "\n");
                }

                writer.flush();

            } catch (IOException e) {
                showError("BÅ‚Ä…d zapisu CSV: " + e.getMessage());
            }
        }
    }

    private void showError(String message) {
        Alert alert = new Alert(Alert.AlertType.ERROR);
        alert.setTitle("BÅ‚Ä…d");
        alert.setHeaderText("WystÄ…piÅ‚ bÅ‚Ä…d");
        alert.setContentText(message);
        alert.showAndWait();
    }



    @FXML
    private void handleExportToPDF() {
        try {
            ExportServicePDF.exportToPDF(candidateDAO.getAllCandidates(), "wyniki.pdf");
            System.out.println("Zapisano do PDF");
        } catch (Exception e) {
            e.printStackTrace();
        }
    }


}



ŒCIE¯KA: src\main\java\com\election\controller\LoginController.java
----------------------------------------------------------------------
package com.election.controller;

import com.election.dao.UserDAO;
import com.election.model.User;
import com.election.service.AuthService;
import javafx.animation.PauseTransition;
import javafx.concurrent.Task;
import javafx.event.ActionEvent;
import javafx.fxml.FXML;
import javafx.fxml.FXMLLoader;
import javafx.scene.Parent;
import javafx.scene.Scene;
import javafx.scene.control.Label;
import javafx.scene.control.PasswordField;
import javafx.scene.control.TextField;
import javafx.stage.Stage;
import javafx.util.Duration;
import org.mindrot.jbcrypt.BCrypt;

import java.io.IOException;

public class LoginController {

    @FXML private TextField usernameField;
    @FXML private PasswordField passwordField;
    @FXML private Label errorLabel;
    @FXML private Label statusLabel;

    private final UserDAO userDAO = new UserDAO();
    private final AuthService authService = new AuthService();

    @FXML
    private void initialize() {
        loadUserCountAsync();
    }

    private void loadUserCountAsync() {
        Task<Integer> task = new Task<>() {
            @Override
            protected Integer call() {
                return userDAO.getAllUsers().size();
            }
        };

//        task.setOnSucceeded(e -> {
//            if (task.getValue() > 0) {
//                statusLabel.setText("Zarejestrowanych uÅ¼ytkownikÃ³w: " + task.getValue());
//            } else {
//                statusLabel.setText("Brak zarejestrowanych uÅ¼ytkownikÃ³w");
//            }
//        });

        new Thread(task).start();
    }

    @FXML
    private void handleLogin(ActionEvent event) {
        performLogin();
    }

    private void performLogin() {
        String username = usernameField.getText().trim();
        String password = passwordField.getText().trim();

        if (username.isEmpty() || password.isEmpty()) {
            showError("ProszÄ™ wypeÅ‚niÄ‡ wszystkie pola!");
            return;
        }

        Task<AuthService.AuthResult> loginTask = new Task<>() {
            @Override
            protected AuthService.AuthResult call() {
                return authService.authenticate(username, password);
            }
        };

        loginTask.setOnSucceeded(e -> {
            AuthService.AuthResult result = loginTask.getValue();
            switch (result.getStatus()) {
                case SUCCESS:
                    redirectUser(result.getUser());
                    break;
                case USER_NOT_FOUND:
                    showError("NieprawidÅ‚owy login!");
                    break;
                case INVALID_PASSWORD:
                    showError("NieprawidÅ‚owe hasÅ‚o!");
                    break;
            }
        });

        loginTask.setOnFailed(e -> {
            showError("BÅ‚Ä…d poÅ‚Ä…czenia z bazÄ… danych");
        });

        new Thread(loginTask).start();
    }

    private void redirectUser(User user) {
        try {
            String fxmlPath = user.getRole().equals("ADMIN")
                    ? "/com/election/view/admin_view.fxml"
                    : "/com/election/view/user_view.fxml";

            FXMLLoader loader = new FXMLLoader(getClass().getResource(fxmlPath));
            Parent root = loader.load();

            if (user.getRole().equals("ADMIN")) {
                AdminController controller = loader.getController();
                controller.initializeWithUser(user);
            } else {
                UserController controller = loader.getController();
                controller.initializeWithUser(user); // PrzekaÅ¼ uÅ¼ytkownika
            }

            Stage stage = (Stage) usernameField.getScene().getWindow();
            stage.setScene(new Scene(root));
            stage.centerOnScreen();

        } catch (IOException ex) {
            ex.printStackTrace();
            showError("BÅ‚Ä…d Å‚adowania widoku");
        }
    }

    private void showError(String message) {
        errorLabel.setText(message);
        errorLabel.setStyle("-fx-text-fill: #ff4444;");
    }

    @FXML
    private void handleRefresh(ActionEvent event) {
        usernameField.clear();
        passwordField.clear();
        errorLabel.setText("");
    }
}


ŒCIE¯KA: src\main\java\com\election\controller\UserController.java
---------------------------------------------------------------------
package com.election.controller;

import com.election.dao.CandidateDAO;
import com.election.exception.VotingException;
import com.election.model.Candidate;
import com.election.model.CandidateResult;
import com.election.model.User;
import com.election.service.ElectionService;
import com.election.service.VotingService;
import javafx.collections.FXCollections;
import javafx.event.ActionEvent;
import javafx.fxml.FXML;
import javafx.fxml.FXMLLoader;
import javafx.scene.Node;
import javafx.scene.Parent;
import javafx.scene.Scene;
import javafx.scene.control.*;
import javafx.scene.control.cell.PropertyValueFactory;
import javafx.stage.Stage;
import javafx.util.StringConverter;

import java.io.IOException;
import java.util.List;

public class UserController {
    private User currentUser;
    private final VotingService votingService = new VotingService();
    @FXML
    private Label statusLabel;

    @FXML
    private ComboBox<Candidate> candidateComboBox;

    private final ElectionService electionService = new ElectionService();

    @FXML
    public void initialize() { // Ta metoda jest wywoÅ‚ywana automatycznie
        loadCandidates();
    }
    public void initializeWithUser(User user) {
        this.currentUser = user;

        if(user.isHasVoted()) {
            submitButton.setDisable(true);
            candidateComboBox.setDisable(true);
            statusLabel.setText("JuÅ¼ oddaÅ‚eÅ› gÅ‚os w tych wyborach!");
            statusLabel.setStyle("-fx-text-fill: #2ecc71;");
        }
    }

    private void refreshVotingStatus() {
        if (currentUser != null && currentUser.isHasVoted()) {  // UÅ¼yj metody dostÄ™pu
            submitButton.setDisable(true);
            candidateComboBox.setDisable(true);
            statusLabel.setText("JuÅ¼ oddaÅ‚eÅ› gÅ‚os! MoÅ¼esz siÄ™ wylogowaÄ‡.");
        }
    }

    @FXML
    private void handleVoteSubmit(ActionEvent event) {
        Candidate selectedCandidate = candidateComboBox.getValue(); // <- tu masz selectedCandidate

        if (selectedCandidate == null) {
            statusLabel.setText("Wybierz kandydata przed oddaniem gÅ‚osu!");
            return;
        }

        votingService.castVote(currentUser, selectedCandidate); // <- przekazujesz dalej

        submitButton.setDisable(true);
        candidateComboBox.setDisable(true);
        statusLabel.setText("GÅ‚os zostaÅ‚ pomyÅ›lnie zarejestrowany!");
        statusLabel.setStyle("-fx-text-fill: #2ecc71;");
    }

    private void loadCandidates() {
        List<Candidate> candidates = electionService.getAllCandidates();
        candidateComboBox.getItems().setAll(candidates); // UÅ¼yj setAll() zamiast addAll()
    }

    @FXML private Button submitButton;
    @FXML private Button logoutButton;
    //private final ElectionService electionService = new ElectionService();
//    @FXML
//    private void handleVoteSubmit(ActionEvent event) {
//        Candidate selectedCandidate = candidateComboBox.getValue();
//
//        if (selectedCandidate == null) {
//            statusLabel.setText("Wybierz kandydata przed oddaniem gÅ‚osu!");
//            return;
//        }
//
//        try {
//            // Oddaj gÅ‚os
//            electionService.registerVote(selectedCandidate);
//
//            // Ukryj przycisk "Oddaj gÅ‚os", pokaÅ¼ "Wyloguj"
//            submitButton.setVisible(false);
//            logoutButton.setVisible(true);
//            statusLabel.setText("GÅ‚os oddany pomyÅ›lnie! MoÅ¼esz siÄ™ wylogowaÄ‡.");
//
//        } catch (Exception e) {
//            statusLabel.setText("BÅ‚Ä…d: " + e.getMessage());
//            submitButton.setVisible(true); // PrzywrÃ³Ä‡ przycisk w przypadku bÅ‚Ä™du
//        }
//    }
    @FXML
    private void handleLogout(ActionEvent event) {
        try {
            // Zamknij obecne okno
            Stage stage = (Stage) ((Node) event.getSource()).getScene().getWindow();
            stage.close();

            // OtwÃ³rz nowe okno logowania
            FXMLLoader loader = new FXMLLoader(getClass().getResource("/com/election/view/login.fxml"));
            Parent root = loader.load();
            Stage loginStage = new Stage();
            loginStage.setScene(new Scene(root));
            loginStage.setTitle("Logowanie");
            loginStage.show();
        } catch (IOException e) {
            e.printStackTrace();
        }
    }
}


ŒCIE¯KA: src\main\java\com\election\dao\CandidateDAO.java
------------------------------------------------------------
package com.election.dao;

import com.election.model.Candidate;
import com.election.util.HibernateUtil;
import org.hibernate.Session;
import org.hibernate.Transaction;

import java.util.List;

public class CandidateDAO {

    // Pobierz wszystkich kandydatÃ³w
    public List<Candidate> getAllCandidates() {
        try (Session session = HibernateUtil.getSessionFactory().openSession()) {
            return session.createQuery("FROM Candidate", Candidate.class).list();
        } catch (Exception e) {
            e.printStackTrace();
            return null;
        }
    }

    // Dodaj nowego kandydata
    public void addCandidate(Candidate candidate) {
        Transaction transaction = null;
        try (Session session = HibernateUtil.getSessionFactory().openSession()) {
            transaction = session.beginTransaction();
            session.persist(candidate);
            transaction.commit();
        } catch (Exception e) {
            if (transaction != null) transaction.rollback();
            e.printStackTrace();
        }
    }

    // UsuÅ„ kandydata po ID
    public void deleteCandidate(Long id) {
        Transaction transaction = null;
        try (Session session = HibernateUtil.getSessionFactory().openSession()) {
            transaction = session.beginTransaction();
            Candidate candidate = session.get(Candidate.class, id);
            if (candidate != null) {
                session.remove(candidate);
            }
            transaction.commit();
        } catch (Exception e) {
            if (transaction != null) transaction.rollback();
            e.printStackTrace();
        }
    }

    // Zaktualizuj dane kandydata
    public void updateCandidate(Candidate candidate) {
        Transaction transaction = null;
        try (Session session = HibernateUtil.getSessionFactory().openSession()) {
            transaction = session.beginTransaction();
            session.merge(candidate);
            transaction.commit();
        } catch (Exception e) {
            if (transaction != null) transaction.rollback();
            e.printStackTrace();
        }
    }

    // Pobierz kandydata po ID
    public Candidate getCandidateById(Long id) {
        try (Session session = HibernateUtil.getSessionFactory().openSession()) {
            return session.get(Candidate.class, id);
        } catch (Exception e) {
            e.printStackTrace();
            return null;
        }
    }
}



ŒCIE¯KA: src\main\java\com\election\dao\ElectionResultDAO.java
-----------------------------------------------------------------
package com.election.dao;

import com.election.model.ElectionResult;
import com.election.util.HibernateUtil;
import org.hibernate.Session;
import org.hibernate.Transaction;

import java.util.List;

public class ElectionResultDAO {

    public ElectionResult findByCandidate(String candidate) {
        try (Session session = HibernateUtil.getSessionFactory().openSession()) {
            return session.createQuery(
                            "FROM ElectionResult WHERE candidateName = :candidate",
                            ElectionResult.class
                    )
                    .setParameter("candidate", candidate)
                    .uniqueResult();
        }
    }

    public void saveOrUpdate(ElectionResult result) {
        try (Session session = HibernateUtil.getSessionFactory().openSession()) {
            Transaction transaction = session.beginTransaction();
            session.merge(result); // UÅ¼ywamy merge zamiast save/update
            transaction.commit();
        }
    }

    // PozostaÅ‚e metody
    public void addResult(ElectionResult result) {
        saveOrUpdate(result);
    }

    public List<ElectionResult> getAllResults() {
        try (Session session = HibernateUtil.getSessionFactory().openSession()) {
            return session.createQuery("FROM ElectionResult", ElectionResult.class).list();
        }
    }
}


ŒCIE¯KA: src\main\java\com\election\dao\JPAUtil.java
-------------------------------------------------------
package com.election.dao;

import org.hibernate.SessionFactory;
import org.hibernate.boot.Metadata;
import org.hibernate.boot.MetadataSources;
import org.hibernate.boot.registry.StandardServiceRegistry;
import org.hibernate.boot.registry.StandardServiceRegistryBuilder;

public class JPAUtil {
    private static final SessionFactory sessionFactory = buildSessionFactory();

    private static SessionFactory buildSessionFactory() {
        try {
            StandardServiceRegistry standardRegistry = new StandardServiceRegistryBuilder()
                    .configure("hibernate.cfg.xml")
                    .build();

            Metadata metadata = new MetadataSources(standardRegistry)
                    .addAnnotatedClass(com.election.model.Candidate.class)
                    .getMetadataBuilder()
                    .build();

            return metadata.getSessionFactoryBuilder().build();
        } catch (Exception ex) {
            throw new ExceptionInInitializerError(ex);
        }
    }

    public static SessionFactory getSessionFactory() {
        return sessionFactory;
    }

    public static void shutdown() {
        getSessionFactory().close();
    }
}


ŒCIE¯KA: src\main\java\com\election\dao\UserDAO.java
-------------------------------------------------------
package com.election.dao;

import com.election.model.User;
import com.election.util.HibernateUtil;
import org.hibernate.Session;
import org.hibernate.Transaction;
import org.hibernate.query.Query;

import java.io.FileWriter;
import java.io.IOException;
import java.util.List;

public class UserDAO {

    public List<User> getAllUsers() {
        try (Session session = HibernateUtil.getSessionFactory().openSession()) {
            List<User> users = session.createQuery("FROM User", User.class).list();
            System.out.println("DEBUG: Znaleziono uÅ¼ytkownikÃ³w: " + users.size());
            users.forEach(u -> System.out.println(u.getUsername() + " | " + u.isHasVoted()));
            return users;
        } catch (Exception e) {
            System.err.println("BÅ‚Ä…d pobierania uÅ¼ytkownikÃ³w:");
            e.printStackTrace();
            return List.of(); // ZwrÃ³Ä‡ pustÄ… listÄ™ w razie bÅ‚Ä™du
        }
    }
    public User getUserById(Long id) {
        try (Session session = HibernateUtil.getSessionFactory().openSession()) {
            return session.get(User.class, id);
        } catch (Exception e) {
            System.err.println("BÅ‚Ä…d pobierania uÅ¼ytkownika o ID: " + id);
            e.printStackTrace();
            return null;
        }
    }

    public void updateUser(User user) {
        Transaction transaction = null;
        try (Session session = HibernateUtil.getSessionFactory().openSession()) {
            transaction = session.beginTransaction();
            session.update(user);
            transaction.commit();
            System.out.println("Zaktualizowano uÅ¼ytkownika: " + user.getUsername());

            // Aktualizacja backupu
            appendUserToSql(user);  // MoÅ¼esz to zostawiÄ‡ lub pominÄ…Ä‡ przy aktualizacji

        } catch (Exception e) {
            if (transaction != null) transaction.rollback();
            System.err.println("BÅ‚Ä…d aktualizacji uÅ¼ytkownika:");
            e.printStackTrace();
        }
    }

    public void deleteUser(User user) {
        Transaction transaction = null;
        try (Session session = HibernateUtil.getSessionFactory().openSession()) {
            transaction = session.beginTransaction();
            session.delete(user);
            transaction.commit();
            System.out.println("UsuniÄ™to uÅ¼ytkownika: " + user.getUsername());
        } catch (Exception e) {
            if (transaction != null) transaction.rollback();
            System.err.println("BÅ‚Ä…d usuwania uÅ¼ytkownika:");
            e.printStackTrace();
        }
    }


    public void saveUser(User user) {
        Transaction transaction = null;
        try (Session session = HibernateUtil.getSessionFactory().openSession()) {
            transaction = session.beginTransaction();
            session.save(user);
            transaction.commit();
            session.close();
            // Dodajemy kopiÄ™ zapasowÄ…
            appendUserToSql(user);

        } catch (Exception e) {
            if (transaction != null) {
                transaction.rollback();
            }
            e.printStackTrace();
        }
    }
    public static void appendUserToSql(User user) {
        String filePath = "src/main/resources/import_dynamic.sql";  // <-- zapis do resources (dev-only)

        // SkÅ‚adnia SQL INSERT
        String insert = String.format(
                "INSERT INTO USERS (id, username, password, role, has_voted) VALUES (%d, '%s', '%s', '%s', %b);%n",
                user.getId(),
                user.getUsername(),
                user.getPassword(),
                user.getRole(),
                user.isHasVoted()
        );

        try (FileWriter fw = new FileWriter(filePath, true)) {
            fw.write(insert);
        } catch (IOException e) {
            e.printStackTrace(); // tylko IO
        }
    }

    public User findByUsername(String username) {
        try (Session session = HibernateUtil.getSessionFactory().openSession()) {
            Query<User> query = session.createQuery("FROM User WHERE username = :username", User.class);
            query.setParameter("username", username);
            return query.uniqueResult();
        } catch (Exception e) {
            System.err.println("BÅ‚Ä…d wyszukiwania uÅ¼ytkownika " + username + ":");
            e.printStackTrace();
            return null;
        }
    }
    public User findByPesel(String pesel) {
        try (Session session = HibernateUtil.getSessionFactory().openSession()) {
            return session.createQuery("FROM User WHERE pesel = :pesel", User.class)
                    .setParameter("pesel", pesel)
                    .uniqueResult();
        }
    }


    public boolean isAdmin(User user) {
        return "ADMIN".equals(user.getRole());
    }
}



ŒCIE¯KA: src\main\java\com\election\exception\VotingException.java
---------------------------------------------------------------------
package com.election.exception;

public class VotingException extends Exception {
    public VotingException(String message) {
        super(message);
    }
}


ŒCIE¯KA: src\main\java\com\election\model\Candidate.java
-----------------------------------------------------------
package com.election.model;

import javafx.beans.property.*;
import jakarta.persistence.*;

@Entity
@Table(name = "CANDIDATE")
public class Candidate {
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;

    @Column(nullable = false)
    private String name;

    private String party;

    @Column(nullable = false)
    private int votes;

    // Transient properties dla JavaFX
    private transient StringProperty nameProperty;
    private transient IntegerProperty votesProperty;

    // Konstruktory
    public Candidate() {
        // DomyÅ›lny konstruktor dla JPA
    }

    public Candidate(String name, String party, int votes) {
        this.name = name;
        this.party = party;
        this.votes = votes;
        initializeProperties();
    }

    // Inicjalizacja wÅ‚aÅ›ciwoÅ›ci JavaFX
    private void initializeProperties() {
        this.nameProperty = new SimpleStringProperty(name);
        this.votesProperty = new SimpleIntegerProperty(votes);
    }

    // Gettery i settery dla JPA
    public Long getId() {
        return id;
    }

    public void setId(Long id) {
        this.id = id;
    }

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
        if (nameProperty != null) {
            nameProperty.set(name);
        }
    }

    public String getParty() {
        return party;
    }

    public void setParty(String party) {
        this.party = party;
    }

    public int getVotes() {
        return votes;
    }

    public void setVotes(int votes) {
        this.votes = votes;
        if (votesProperty != null) {
            votesProperty.set(votes);
        }
    }

    // WÅ‚aÅ›ciwoÅ›ci JavaFX
    public StringProperty nameProperty() {
        if (nameProperty == null) {
            nameProperty = new SimpleStringProperty(name);
        }
        return nameProperty;
    }

    public IntegerProperty votesProperty() {
        if (votesProperty == null) {
            votesProperty = new SimpleIntegerProperty(votes);
        }
        return votesProperty;
    }

    @Override
    public String toString() {
        return name + (party != null ? " (" + party + ")" : "");
    }
}


ŒCIE¯KA: src\main\java\com\election\model\CandidateResult.java
-----------------------------------------------------------------
package com.election.model;

public class CandidateResult {
    private Long id;          // Dodano pole id
    private String name;      // Zmieniono candidateName â†’ name
    private String party;
    private int votes;

    // Konstruktor z 4 parametrami (id, name, party, votes)
    public CandidateResult(Long id, String name, String party, int votes) {
        this.id = id;
        this.name = name;
        this.party = party;
        this.votes = votes;
    }

    // Gettery
    public Long getId() { return id; }
    public String getName() { return name; } // Zmieniono getCandidateName â†’ getName
    public String getParty() { return party; }
    public int getVotes() { return votes; }
}


ŒCIE¯KA: src\main\java\com\election\model\ElectionResult.java
----------------------------------------------------------------
package com.election.model;

import jakarta.persistence.*;

@Entity
@Table(name = "election_results")
public class ElectionResult {
    @Column(name = "candidate_name") // Dopasuj do nazwy kolumny w bazie
    private String candidateName;

    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;

    @Column(nullable = false)
    private int votes;

    // Konstruktor domyÅ›lny (wymagany przez Hibernate)
    public ElectionResult() {}

    // Konstruktor z parametrami
    public ElectionResult(String candidateName, int votes) {
        this.candidateName = candidateName;
        this.votes = votes;
    }

    // Gettery i settery
    public Long getId() { return id; }
    public String getCandidateName() { return candidateName; }
    public void setCandidateName(String candidateName) { this.candidateName = candidateName; }
    public int getVotes() { return votes; }
    public void setVotes(int votes) { this.votes = votes; }
}


ŒCIE¯KA: src\main\java\com\election\model\User.java
------------------------------------------------------
package com.election.model;

import jakarta.persistence.*;
import java.util.ArrayList;
import java.util.List;

@Entity
@Table(name = "USERS")
public class User {
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;

    @Column(unique = true, nullable = false)
    private String username;

    @Column(nullable = false)
    private String password;

    @Column(nullable = false)
    private String role;

    @Column(name = "first_name", nullable = false)
    private String firstName;

    @Column(name = "last_name", nullable = false)
    private String lastName;

    @Column(name = "pesel", nullable = false, unique = true, length = 11)
    private String pesel;

    @Column(name = "has_voted", nullable = false)
    private boolean hasVoted = false;

    @OneToMany(mappedBy = "user", cascade = CascadeType.ALL)
    private List<Vote> votes = new ArrayList<>();

    public List<Vote> getVotes() {
        return votes;
    }

    public void setVotes(List<Vote> votes) {
        this.votes = votes;
    }
    // Getters & Setters
    public Long getId() { return id; }
    public void setId(Long id) { this.id = id; }

    public String getUsername() { return username; }
    public void setUsername(String username) { this.username = username; }

    public String getPassword() { return password; }
    public void setPassword(String password) { this.password = password; }

    public boolean isHasVoted() {
        return hasVoted;
    }

    public void setHasVoted(boolean hasVoted) {
        this.hasVoted = hasVoted;
    }

    public String getRole() { return role; }
    public void setRole(String role) { this.role = role; }

    public String getFirstName() {
        return firstName;
    }

    public void setFirstName(String firstName) {
        this.firstName = firstName;
    }

    public String getLastName() {
        return lastName;
    }

    public void setLastName(String lastName) {
        this.lastName = lastName;
    }

    public String getPesel() {
        return pesel;
    }

    public void setPesel(String pesel) {
        this.pesel = pesel;
    }

    public User() {}
}


ŒCIE¯KA: src\main\java\com\election\model\Vote.java
------------------------------------------------------
package com.election.model;

import jakarta.persistence.*;
import java.time.LocalDateTime;

@Entity
@Table(name = "VOTES")
public class Vote {
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;

    @ManyToOne
    @JoinColumn(name = "user_id")
    private User user;

    @ManyToOne
    @JoinColumn(name = "candidate_id")
    private Candidate candidate;

    @Column(name = "has_voted", nullable = false)
    private boolean hasVoted;

    @Column(name = "vote_time", nullable = false)
    private LocalDateTime voteTime;

    // Gettery i Settery
    public Long getId() {
        return id;
    }

    public User getUser() {
        return user;
    }

    public void setUser(User user) {
        this.user = user;
    }


    public Candidate getCandidate() {
        return candidate;
    }

    public void setCandidate(Candidate candidate) {
        this.candidate = candidate;
    }

    public LocalDateTime getVoteTime() {
        return voteTime;
    }

    public void setVoteTime(LocalDateTime voteTime) {
        this.voteTime = voteTime;
    }
    public boolean isHasVoted() {
        return hasVoted;
    }

    public void setHasVoted(boolean hasVoted) {
        this.hasVoted = hasVoted;
    }
}


ŒCIE¯KA: src\main\java\com\election\service\AuthService.java
---------------------------------------------------------------
package com.election.service;

import com.election.dao.UserDAO;
import com.election.model.User;
import org.mindrot.jbcrypt.BCrypt;

public class AuthService {
    private UserDAO userDAO = new UserDAO();

    public AuthResult authenticate(String username, String password) {
        User user = userDAO.findByUsername(username);
        if (user == null) {
            return new AuthResult(null, AuthStatus.USER_NOT_FOUND);
        }
        if (!BCrypt.checkpw(password, user.getPassword())) {
            return new AuthResult(null, AuthStatus.INVALID_PASSWORD);
        }
        return new AuthResult(user, AuthStatus.SUCCESS);
    }

    public enum AuthStatus {
        SUCCESS, USER_NOT_FOUND, INVALID_PASSWORD
    }

    public static class AuthResult {
        private final User user;
        private final AuthStatus status;

        public AuthResult(User user, AuthStatus status) {
            this.user = user;
            this.status = status;
        }

        public User getUser() {
            return user;
        }

        public AuthStatus getStatus() {
            return status;
        }
    }
}


ŒCIE¯KA: src\main\java\com\election\service\ElectionService.java
-------------------------------------------------------------------
package com.election.service;

import com.election.exception.VotingException;
import com.election.model.Candidate;
import com.election.model.CandidateResult;
import com.election.util.HibernateUtil;
import org.hibernate.Session;
import org.hibernate.SessionFactory;
import org.hibernate.Transaction;

import java.util.List;

public class ElectionService {

    public List<CandidateResult> getCurrentResults() {
        try (Session session = HibernateUtil.getSessionFactory().openSession()) {
            String hql = "SELECT new com.election.model.CandidateResult(c.id, c.name, c.party, c.votes) FROM Candidate c";
            return session.createQuery(hql, CandidateResult.class).getResultList();
        }
    }

    public List<Candidate> getAllCandidates() {
        try (Session session = HibernateUtil.getSessionFactory().openSession()) {
            return session.createQuery("FROM Candidate", Candidate.class).getResultList();
        }
    }

    public void registerVote(Candidate candidate) throws VotingException {
        Session session = HibernateUtil.getSessionFactory().openSession();
        Transaction transaction = null;

        try {
            transaction = session.beginTransaction();

            Candidate managedCandidate = session.get(Candidate.class, candidate.getId());
            managedCandidate.setVotes(managedCandidate.getVotes() + 1);

            session.update(managedCandidate);
            transaction.commit();

        } catch (Exception e) {
            if (transaction != null) transaction.rollback();
            throw new VotingException("BÅ‚Ä…d podczas rejestracji gÅ‚osu: " + e.getMessage());
        } finally {
            session.close();
        }
    }
}


ŒCIE¯KA: src\main\java\com\election\service\ExportService.java
-----------------------------------------------------------------
package com.election.service;

import com.election.model.Candidate;

import java.io.FileWriter;
import java.io.IOException;
import java.util.List;

public class ExportService {

    public static void exportToCSV(List<Candidate> candidates, String filePath) throws IOException {
        try (FileWriter writer = new FileWriter(filePath)) {
            writer.write("ID,Nazwisko i ImiÄ™,Partia,Liczba gÅ‚osÃ³w\n");
            for (Candidate c : candidates) {
                writer.write(String.format("%d,%s,%s,%d\n",
                        c.getId(), c.getName(), c.getParty(), c.getVotes()));
            }
        }
    }
}



ŒCIE¯KA: src\main\java\com\election\service\ExportServicePDF.java
--------------------------------------------------------------------
package com.election.service;

import com.election.model.Candidate;
import com.lowagie.text.*;
import com.lowagie.text.pdf.PdfPTable;
import com.lowagie.text.pdf.PdfWriter;

import java.io.FileOutputStream;
import java.util.List;

public class ExportServicePDF {

    public static void exportToPDF(List<Candidate> candidates, String filePath) throws Exception {
        Document document = new Document();
        PdfWriter.getInstance(document, new FileOutputStream(filePath));
        document.open();

        document.add(new Paragraph("Wyniki wyborÃ³w"));
        document.add(new Paragraph(" "));

        PdfPTable table = new PdfPTable(4);
        table.addCell("ID");
        table.addCell("Nazwisko i ImiÄ™");
        table.addCell("Partia");
        table.addCell("Liczba gÅ‚osÃ³w");

        for (Candidate c : candidates) {
            table.addCell(String.valueOf(c.getId()));
            table.addCell(c.getName());
            table.addCell(c.getParty());
            table.addCell(String.valueOf(c.getVotes()));
        }

        document.add(table);
        document.close();
    }
}



ŒCIE¯KA: src\main\java\com\election\service\VotingService.java
-----------------------------------------------------------------
package com.election.service;

import com.election.model.Candidate;
import com.election.model.ElectionResult;
import com.election.model.User;
import com.election.model.Vote;
import com.election.util.HibernateUtil;
import org.hibernate.Session;
import org.hibernate.Transaction;

import java.time.LocalDateTime;

public class VotingService {

    public void castVote(User user, Candidate candidate) {
        Session session = HibernateUtil.getSessionFactory().openSession();
        Transaction tx = session.beginTransaction();

        try {
            if (user == null || candidate == null) {
                throw new IllegalStateException("Nie znaleziono uÅ¼ytkownika lub kandydata.");
            }

            if (user.isHasVoted()) {
                throw new IllegalStateException("UÅ¼ytkownik juÅ¼ gÅ‚osowaÅ‚.");
            }

            // ZwiÄ™ksz liczbÄ™ gÅ‚osÃ³w
            candidate.setVotes(candidate.getVotes() + 1);
            session.merge(candidate);

            // UtwÃ³rz nowy gÅ‚os
            Vote vote = new Vote();
            vote.setCandidate(candidate);
            vote.setUser(user);
            vote.setVoteTime(LocalDateTime.now());
            session.save(vote);

            // Zaktualizuj uÅ¼ytkownika
            user.setHasVoted(true);
            session.merge(user);

            // Opcjonalnie: aktualizacja wynikÃ³w
            updateElectionResults(session, candidate);

            tx.commit();
        } catch (Exception e) {
            if (tx != null) tx.rollback();
            e.printStackTrace();
        } finally {
            session.close();
        }
    }


    private void updateElectionResults(Session session, Candidate candidate) {
        ElectionResult result = session.createQuery(
                        "FROM ElectionResult WHERE candidateName = :name",
                        ElectionResult.class)
                .setParameter("name", candidate.getName())
                .uniqueResult();

        if (result == null) {
            result = new ElectionResult(candidate.getName(), 1);
        } else {
            result.setVotes(result.getVotes() + 1);
        }

        session.merge(result);
    }

    public boolean hasUserVoted(User user) {
        return user.isHasVoted();
    }
}


ŒCIE¯KA: src\main\java\com\election\util\DataInitializer.java
----------------------------------------------------------------
package com.election.util;

import com.election.model.Candidate;
import com.election.model.User;
import org.hibernate.Session;

import java.io.BufferedReader;
import java.io.InputStreamReader;
import java.sql.Statement;
import java.util.List;
import java.util.stream.Collectors;

public class DataInitializer {

    public static void initializeIfEmpty(Session session) {
        boolean shouldImport = isDatabaseEmpty(session);

        if (shouldImport) {
            System.out.println("Import danych z import.sql...");
            runImportSQL(session);
        } else {
            System.out.println("Baza danych juÅ¼ zawiera dane. Import pominiÄ™ty.");
        }
    }

    private static boolean isDatabaseEmpty(Session session) {
        List<?> users = session.createQuery("from User").setMaxResults(1).list();
        List<?> candidates = session.createQuery("from Candidate").setMaxResults(1).list();
        return users.isEmpty() && candidates.isEmpty();
    }

    private static void runImportSQL(Session session) {
        runSqlFile(session, "import.sql");
        runSqlFile(session, "import_dynamic.sql");
    }

    private static void runSqlFile(Session session, String fileName) {
        try (BufferedReader reader = new BufferedReader(new InputStreamReader(
                DataInitializer.class.getClassLoader().getResourceAsStream(fileName)))) {

            String sql = reader.lines().collect(Collectors.joining("\n"));

            session.doWork(connection -> {
                try (Statement stmt = connection.createStatement()) {
                    for (String part : sql.split(";")) {
                        if (!part.trim().isEmpty()) {
                            stmt.execute(part.trim());
                        }
                    }
                }
            });

            System.out.println("Zaimportowano dane z " + fileName);

        } catch (Exception e) {
            System.err.println("BÅ‚Ä…d przy imporcie pliku " + fileName + ": " + e.getMessage());
        }
    }

}



ŒCIE¯KA: src\main\java\com\election\util\HibernateUtil.java
--------------------------------------------------------------
package com.election.util;

import com.election.model.ElectionResult;
import com.election.model.User;
import com.election.model.Candidate;
import com.election.model.Vote;
import org.hibernate.SessionFactory;
import org.hibernate.cfg.Configuration;
import org.hibernate.boot.registry.StandardServiceRegistryBuilder;
import org.hibernate.service.ServiceRegistry;

public class HibernateUtil {
    private static final SessionFactory sessionFactory = buildSessionFactory();

    private static SessionFactory buildSessionFactory() {
        try {
            // Wczytaj konfiguracjÄ™ z hibernate.cfg.xml z classpath
            Configuration configuration = new Configuration().configure();

            // Dodaj klasy mapowane (jeÅ›li nie masz <mapping> w XML, ale tu sÄ… redundantne)
            configuration.addAnnotatedClass(User.class);
            configuration.addAnnotatedClass(Candidate.class);
            configuration.addAnnotatedClass(Vote.class);
            configuration.addAnnotatedClass(ElectionResult.class);

            ServiceRegistry serviceRegistry = new StandardServiceRegistryBuilder()
                    .applySettings(configuration.getProperties())
                    .build();

            return configuration.buildSessionFactory(serviceRegistry);

        } catch (Throwable ex) {
            System.err.println("Initial SessionFactory creation failed." + ex);
            throw new ExceptionInInitializerError(ex);
        }
    }

    public static SessionFactory getSessionFactory() {
        return sessionFactory;
    }

    public static void shutdown() {
        if (sessionFactory != null) {
            sessionFactory.close();
        }
    }
}


ŒCIE¯KA: src\main\resources\hibernate.cfg.xml
------------------------------------------------
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE hibernate-configuration PUBLIC
        "-//Hibernate/Hibernate Configuration DTD 3.0//EN"
        "http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd">

<hibernate-configuration>
    <session-factory>
        <!-- PoÅ‚Ä…czenie z bazÄ… H2 (plikowa baza danych) -->
        <property name="hibernate.connection.driver_class">org.h2.Driver</property>
        <property name="hibernate.connection.url">jdbc:h2:file:./database/election_db;AUTO_SERVER=TRUE</property>
        <property name="hibernate.connection.username">sa</property>
        <property name="hibernate.connection.password"></property>

        <!-- Dialekt i automatyczne aktualizowanie tabel -->
        <property name="hibernate.dialect">org.hibernate.dialect.H2Dialect</property>
        <property name="hibernate.hbm2ddl.auto">update</property>

        <!-- Debug SQL -->
        <property name="hibernate.show_sql">true</property>
        <property name="hibernate.format_sql">true</property>

        <!-- Mapowania encji -->
        <mapping class="com.election.model.User"/>
        <mapping class="com.election.model.Candidate"/>
        <mapping class="com.election.model.Vote"/>
        <mapping class="com.election.model.ElectionResult"/>
    </session-factory>
</hibernate-configuration>



ŒCIE¯KA: src\main\resources\import.sql
-----------------------------------------
INSERT INTO USERS (username, password, role, has_voted, first_name, last_name, pesel)
VALUES ('admin', '$2a$10$dj9eHfuT2oAOd4H0LabcZexzBX7MS7/NgfhabawxQpXd57ZAr3nEq', 'ADMIN', FALSE, 'Admin', 'Adminowski', '00000000000');

INSERT INTO USERS (username, password, role, has_voted, first_name, last_name, pesel)
VALUES ('user', '$2a$10$SvcT2pdsn5ndUfkfSvtFZ.dlYk/jnKfOz/gyq0yQdl58miFuAi23e', 'USER', FALSE, 'Jan', 'Nowak', '00000000123');

-- 50 przykÅ‚adowych uÅ¼ytkownikÃ³w
INSERT INTO USERS (username, password, role, has_voted, first_name, last_name, pesel)
VALUES ('user1', '$2a$10$Sc7BeEhS1QPGvKYOA5oczuFz3/8eG6050d/8gRKFPWAnYwcdyO5f6', 'USER', FALSE, 'Marek', 'SzymaÅ„ski', '10000000001');
INSERT INTO USERS (username, password, role, has_voted, first_name, last_name, pesel)
VALUES ('user2', '$2a$10$vUMiwF08NNen0DeWQb/pcukun3Sx1WXcHVuWka8TTi7ComDtJJw06', 'USER', FALSE, 'Magda', 'KamiÅ„ski', '10000000002');
INSERT INTO USERS (username, password, role, has_voted, first_name, last_name, pesel)
VALUES ('user3', '$2a$10$LN4./y9hOIu.DXEhHgYeye0290.ZeRJJUUojUFyfVaiKFLjAq3FOW', 'USER', FALSE, 'Marek', 'Kowalski', '10000000003');
INSERT INTO USERS (username, password, role, has_voted, first_name, last_name, pesel)
VALUES ('user4', '$2a$10$S0fJi2pjiVxVHXsvoGp68eT5BgSWnfGCkjmyE4KWW7XTRGcbcZKY.', 'USER', FALSE, 'Katarzyna', 'SzymaÅ„ski', '10000000004');
INSERT INTO USERS (username, password, role, has_voted, first_name, last_name, pesel)
VALUES ('user5', '$2a$10$7iok5jJS41OR2pA1TLKtiOgsjw8EjzMLROjkUjMgKYifQRO7.nB4y', 'USER', FALSE, 'Anna', 'WiÅ›niewski', '10000000005');
INSERT INTO USERS (username, password, role, has_voted, first_name, last_name, pesel)
VALUES ('user6', '$2a$10$tJqpsZKMTsqSvuDg4d.xu.kyODVx6xHi740N9fXwFbvksimF6Clg.', 'USER', FALSE, 'Marek', 'WiÅ›niewski', '10000000006');
INSERT INTO USERS (username, password, role, has_voted, first_name, last_name, pesel)
VALUES ('user7', '$2a$10$RZZTcoYwB1LtI7c3yqjapOF265vC.tkqOva7/QABqATowIzrAotn.', 'USER', FALSE, 'Monika', 'SzymaÅ„ski', '10000000007');
INSERT INTO USERS (username, password, role, has_voted, first_name, last_name, pesel)
VALUES ('user8', '$2a$10$2qrM8S0aJDxxPD36386btu43C40PspPXm0num5ZI6OIoB9O25EEqu', 'USER', FALSE, 'Monika', 'WoÅºniak', '10000000008');
INSERT INTO USERS (username, password, role, has_voted, first_name, last_name, pesel)
VALUES ('user9', '$2a$10$uieEDiqemn1oXopEzDtsfeXoP2dLILg198oJzmw8Xinz2zh580d.6', 'USER', FALSE, 'PaweÅ‚', 'WoÅºniak', '10000000009');
INSERT INTO USERS (username, password, role, has_voted, first_name, last_name, pesel)
VALUES ('user10', '$2a$10$rUUN0rUD3Dmb1OacpLXwxuc8pEUJApxdi/Zq2/VhnYpZZrgcsZq/K', 'USER', FALSE, 'Agnieszka', 'WoÅºniak', '10000000010');
INSERT INTO USERS (username, password, role, has_voted, first_name, last_name, pesel)
VALUES ('user11', '$2a$10$/7Vqc7iLsSa4hMlLOK6qc.1ftRGezIAWLwzkC2P/A0pDNPlsnmXX.', 'USER', FALSE, 'Agnieszka', 'Nowak', '10000000011');
INSERT INTO USERS (username, password, role, has_voted, first_name, last_name, pesel)
VALUES ('user12', '$2a$10$DrjdCOEFl1p4jRQ7PKiD6eZtJ89ChOc3p5CzuxB6WMbTip/NXUyxK', 'USER', FALSE, 'Tomasz', 'WiÅ›niewski', '10000000012');
INSERT INTO USERS (username, password, role, has_voted, first_name, last_name, pesel)
VALUES ('user13', '$2a$10$N5WKCe1KpuTmWbl72WnnLeCQuLggnSsiF7ns/XBPv.QzMKr47UCMC', 'USER', FALSE, 'Agnieszka', 'ZieliÅ„ski', '10000000013');
INSERT INTO USERS (username, password, role, has_voted, first_name, last_name, pesel)
VALUES ('user14', '$2a$10$pFdWbG91JFHKIpDkH6CTE.WGB8in0xk96aLh4obJkLgs9D/OGipoe', 'USER', FALSE, 'Magda', 'DÄ…browski', '10000000014');
INSERT INTO USERS (username, password, role, has_voted, first_name, last_name, pesel)
VALUES ('user15', '$2a$10$wWZ0BjtBY1zhrm6AsCAULuP.GashgN/mFP8VA4ZxDM0W6W/wnoaR.', 'USER', FALSE, 'Katarzyna', 'WoÅºniak', '10000000015');
INSERT INTO USERS (username, password, role, has_voted, first_name, last_name, pesel)
VALUES ('user16', '$2a$10$vLts/gfZMZo/uWGuXNZmDOVZ/0Xh8n46XaeNJJnxh33pU/Chobb4G', 'USER', FALSE, 'Piotr', 'Nowak', '10000000016');
INSERT INTO USERS (username, password, role, has_voted, first_name, last_name, pesel)
VALUES ('user17', '$2a$10$pUFMvRQNJ9VxoyOmgTien.kO90.uEEAhUC/mOdzXpAya/5EytmcFC', 'USER', FALSE, 'Piotr', 'WiÅ›niewski', '10000000017');
INSERT INTO USERS (username, password, role, has_voted, first_name, last_name, pesel)
VALUES ('user18', '$2a$10$7rHiMtPGw.eEOur502IKxe3uwScOa7TeHh1L.SMYTK/lLF.wmetQe', 'USER', FALSE, 'Marek', 'WoÅºniak', '10000000018');
INSERT INTO USERS (username, password, role, has_voted, first_name, last_name, pesel)
VALUES ('user19', '$2a$10$N5E7A5Xup5kgz.G12NMgXudDS/O6Qxpe4VY78k2MvmoH/4jfTbJSC', 'USER', FALSE, 'Katarzyna', 'Lewandowski', '10000000019');
INSERT INTO USERS (username, password, role, has_voted, first_name, last_name, pesel)
VALUES ('user20', '$2a$10$x7DrVGNEG..Lq7DG7LrWleHie25IyuueDxr2kLGe/msvmJOvrzHi6', 'USER', FALSE, 'Agnieszka', 'WoÅºniak', '10000000020');
INSERT INTO USERS (username, password, role, has_voted, first_name, last_name, pesel)
VALUES ('user21', '$2a$10$nU7dkq9M9yuZ20.3BC.G8edd.wdcsLpJ1P5/XF6pKHJof7pQJOtvG', 'USER', FALSE, 'Katarzyna', 'Nowak', '10000000021');
INSERT INTO USERS (username, password, role, has_voted, first_name, last_name, pesel)
VALUES ('user22', '$2a$10$hbx/t4ngdAGcRciCam3MQOvLuSeTXncsl3ZDaElGAURulNxKXBMEK', 'USER', FALSE, 'Agnieszka', 'WÃ³jcik', '10000000022');
INSERT INTO USERS (username, password, role, has_voted, first_name, last_name, pesel)
VALUES ('user23', '$2a$10$Mpw36WNX/tT6ETZFuNs2G.w0r70IA0mR8ZtpyobNdMhtjYyYfqZjy', 'USER', FALSE, 'Tomasz', 'Lewandowski', '10000000023');
INSERT INTO USERS (username, password, role, has_voted, first_name, last_name, pesel)
VALUES ('user24', '$2a$10$bLdn.mugKrdnHMuKl5VGIuFEatnKsOltxWy5BN5IwsOMXPQkdFHMm', 'USER', FALSE, 'Tomasz', 'WÃ³jcik', '10000000024');
INSERT INTO USERS (username, password, role, has_voted, first_name, last_name, pesel)
VALUES ('user25', '$2a$10$KkwrB4uEUl.lp3rqwJYjEOcvDXhvYcv.0TniEx5INoIVns2/oAE5q', 'USER', FALSE, 'Jan', 'KamiÅ„ski', '10000000025');
INSERT INTO USERS (username, password, role, has_voted, first_name, last_name, pesel)
VALUES ('user26', '$2a$10$jLkzCGgy7We5U29sm6rmwOkODd9Ohe3OdtIIGpsLqqwQ0wCqlD6Em', 'USER', FALSE, 'PaweÅ‚', 'WoÅºniak', '10000000026');
INSERT INTO USERS (username, password, role, has_voted, first_name, last_name, pesel)
VALUES ('user27', '$2a$10$LQzB5KcUpsgH3STf4mc8keEruwNNy8sqyS5SlJI0lnAuA3KDA2G6i', 'USER', FALSE, 'Agnieszka', 'Lewandowski', '10000000027');
INSERT INTO USERS (username, password, role, has_voted, first_name, last_name, pesel)
VALUES ('user28', '$2a$10$2ZS3M8guNnNc11gNl0QoseLG6oqV7p.UgXfMIcct3JKJWZbXqYnHm', 'USER', FALSE, 'Piotr', 'ZieliÅ„ski', '10000000028');
INSERT INTO USERS (username, password, role, has_voted, first_name, last_name, pesel)
VALUES ('user29', '$2a$10$fcKJW1a3fJYeWsZfGxNlhuSdExyzTTrOdcZSqDDsyBLOR6ow/7sk2', 'USER', FALSE, 'Jan', 'WÃ³jcik', '10000000029');
INSERT INTO USERS (username, password, role, has_voted, first_name, last_name, pesel)
VALUES ('user30', '$2a$10$uwxDabORqbjeNuDS9KbTG.nplCIYazNZYWn6H3PaW1DZdQ3dqr/Cm', 'USER', FALSE, 'Katarzyna', 'ZieliÅ„ski', '10000000030');
INSERT INTO USERS (username, password, role, has_voted, first_name, last_name, pesel)
VALUES ('user31', '$2a$10$88TtNyHUTYUAE.3N71kj2ukBMKshGJZiXd/MT0chFc3SL0CvnbUdy', 'USER', FALSE, 'Tomasz', 'Kowalski', '10000000031');
INSERT INTO USERS (username, password, role, has_voted, first_name, last_name, pesel)
VALUES ('user32', '$2a$10$0chFpgSbyDUo4p7H7PVPGe.amRwvRnmpGnr/pj0MuHaodPj7Ar1XC', 'USER', FALSE, 'Jan', 'WiÅ›niewski', '10000000032');
INSERT INTO USERS (username, password, role, has_voted, first_name, last_name, pesel)
VALUES ('user33', '$2a$10$hJTZUd5V7mIYEimn8xuQ9.8Is03hy63tKk1L0nsl2Zz6YCrKsG8g.', 'USER', FALSE, 'Jan', 'WiÅ›niewski', '10000000033');
INSERT INTO USERS (username, password, role, has_voted, first_name, last_name, pesel)
VALUES ('user34', '$2a$10$4S/qhltwLg6VglOW.amso.2pnoDD08ARedAkFNM5slB5eXwBvIS6G', 'USER', FALSE, 'Marek', 'WoÅºniak', '10000000034');
INSERT INTO USERS (username, password, role, has_voted, first_name, last_name, pesel)
VALUES ('user35', '$2a$10$FX62/Xf0T.yi6oaoQk6jnOhl8tIC6MNVR8Sa/3CviSrMx1Vabuuma', 'USER', FALSE, 'Tomasz', 'WÃ³jcik', '10000000035');
INSERT INTO USERS (username, password, role, has_voted, first_name, last_name, pesel)
VALUES ('user36', '$2a$10$QjXWEHp16B19vWjmUiF7YuhtBz154A3cjp.cd8hNTrZYkm6uOYjtm', 'USER', FALSE, 'Agnieszka', 'WoÅºniak', '10000000036');
INSERT INTO USERS (username, password, role, has_voted, first_name, last_name, pesel)
VALUES ('user37', '$2a$10$LFiYRxMfQtr55t2YWrp8L.4QEhRIA2pvY9bJkYcwjCYi4uLYh0rzK', 'USER', FALSE, 'Tomasz', 'WoÅºniak', '10000000037');
INSERT INTO USERS (username, password, role, has_voted, first_name, last_name, pesel)
VALUES ('user38', '$2a$10$AUD0va4N9IdiRpyoMaurUu9x.Hki1F42iq.BvwmWuAEm5iICyl4RS', 'USER', FALSE, 'Piotr', 'DÄ…browski', '10000000038');
INSERT INTO USERS (username, password, role, has_voted, first_name, last_name, pesel)
VALUES ('user39', '$2a$10$9Tsw2X14CpYPMfuHneTXGuTwt79gGhf99LsNOAsOzTmhZBdZbyJ4S', 'USER', FALSE, 'Magda', 'WoÅºniak', '10000000039');
INSERT INTO USERS (username, password, role, has_voted, first_name, last_name, pesel)
VALUES ('user40', '$2a$10$IrJb1jriiLjeYieqI4hAC.h9//AlizJ72d7doZJ2XQRosI66YbEpO', 'USER', FALSE, 'Monika', 'WÃ³jcik', '10000000040');
INSERT INTO USERS (username, password, role, has_voted, first_name, last_name, pesel)
VALUES ('user41', '$2a$10$tm3L8s/LdUWfgfxWjLb5PuecQvQok.u9oOOKoYEw2T/kN/.DPUyGe', 'USER', FALSE, 'Monika', 'Kowalski', '10000000041');
INSERT INTO USERS (username, password, role, has_voted, first_name, last_name, pesel)
VALUES ('user42', '$2a$10$KubEOlRt5ALVaXFpzzrOX.eNMsGe90sYGwoyE/4Cj1gUaHJ0A/11q', 'USER', FALSE, 'Tomasz', 'KamiÅ„ski', '10000000042');
INSERT INTO USERS (username, password, role, has_voted, first_name, last_name, pesel)
VALUES ('user43', '$2a$10$V0/fRnRKiLgLNUL.m/t8OeMEDkiPYHyfyIVmhVq8eIFlyTBWVsVTO', 'USER', FALSE, 'Monika', 'WÃ³jcik', '10000000043');
INSERT INTO USERS (username, password, role, has_voted, first_name, last_name, pesel)
VALUES ('user44', '$2a$10$bl/1DJFjrE8ZjIj2nCpmOeA9.aIeD2ultQJ/nzYhAunoECId.AZqy', 'USER', FALSE, 'Agnieszka', 'WÃ³jcik', '10000000044');
INSERT INTO USERS (username, password, role, has_voted, first_name, last_name, pesel)
VALUES ('user45', '$2a$10$4LA4v6s3GgrTRUfikvNF3.9RiudGLCLnbczCH3Kz9OvAFwWGs6dnK', 'USER', FALSE, 'Agnieszka', 'Lewandowski', '10000000045');
INSERT INTO USERS (username, password, role, has_voted, first_name, last_name, pesel)
VALUES ('user46', '$2a$10$9pJLoakbVZUDrvBb.51eS.HtQ3C302IXetVEU8QmjTGXedawivEhe', 'USER', FALSE, 'Katarzyna', 'WoÅºniak', '10000000046');
INSERT INTO USERS (username, password, role, has_voted, first_name, last_name, pesel)
VALUES ('user47', '$2a$10$sG7n7p/y0gc4huMUlcqviOtC3X7KLJDfcxwXh7YvvvlBKq7NXeWyi', 'USER', FALSE, 'Anna', 'Kowalski', '10000000047');
INSERT INTO USERS (username, password, role, has_voted, first_name, last_name, pesel)
VALUES ('user48', '$2a$10$HxdO2KKX6bRlyBLOF7EqO.hXdmyTomhnpSZ8QFU4ETf67S7R31fUG', 'USER', FALSE, 'Anna', 'Lewandowski', '10000000048');
INSERT INTO USERS (username, password, role, has_voted, first_name, last_name, pesel)
VALUES ('user49', '$2a$10$SmF5JJjFMHBv5wAwV5wa4uhRyRMY2QVSK7EO8QL/zriswO/P/4/H.', 'USER', FALSE, 'Anna', 'KamiÅ„ski', '10000000049');
INSERT INTO USERS (username, password, role, has_voted, first_name, last_name, pesel)
VALUES ('user50', '$2a$10$BTC9Z2.MtEe4CfDPpY6DS.9DFIRjLnqaK/JCjEWFsBivhG1vXjliO', 'USER', FALSE, 'Magda', 'SzymaÅ„ski', '10000000050');

INSERT INTO CANDIDATE (id, name, party, votes) VALUES (1, 'Jan Kowalski', 'Partia A', 0);
INSERT INTO CANDIDATE (id, name, party, votes) VALUES (2, 'Anna Nowak', 'Partia B', 0);
INSERT INTO CANDIDATE (id, name, party, votes) VALUES (3, 'Jan Tarczynski', 'Partia C', 0);



ŒCIE¯KA: src\main\resources\import_dynamic.sql
-------------------------------------------------
INSERT INTO USERS (username, password, role, has_voted, first_name, last_name, pesel) VALUES ('user2', '$2a$10$SQoysXqwc4PRM69B5dREiu0KyK7mSlY8Jj65Dg7jWeVqnnqaNsLt.', 'USER', false, 'PaweÅ‚', 'Konopski', '90010254123');
INSERT INTO USERS (username, password, role, has_voted, first_name, last_name, pesel) VALUES ('user3', '$2a$10$.GqJ9nycIrQIU8cWR3ygEe1JNsPNZ/M1ksruFfDRzB1Qa5G5G0tbm', 'USER', false, 'Alicja', 'Koralik', '90044254321');
INSERT INTO USERS (id, username, password, role, has_voted) VALUES (2, 'user12345', '$2a$10$SvcT2pdsn5ndUfkfSvtFZ.dlYk/jnKfOz/gyq0yQdl58miFuAi23e', 'USER', false);
INSERT INTO USERS (id, username, password, role, has_voted) VALUES (2, 'user', '$2a$10$SvcT2pdsn5ndUfkfSvtFZ.dlYk/jnKfOz/gyq0yQdl58miFuAi23e', 'USER', false);



ŒCIE¯KA: src\main\resources\logback.xml
------------------------------------------
<?xml version="1.0" encoding="UTF-8"?>
<configuration>
    <!-- Konsola -->
    <appender name="CONSOLE" class="ch.qos.logback.core.ConsoleAppender">
        <encoder>
            <pattern>%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n</pattern>
        </encoder>
    </appender>

    <!-- Plik -->
    <appender name="FILE" class="ch.qos.logback.core.FileAppender">
        <file>logs/application.log</file>
        <encoder>
            <pattern>%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n</pattern>
        </encoder>
    </appender>

    <!-- Poziomy logowania -->
    <root level="DEBUG">
        <appender-ref ref="CONSOLE"/>
        <appender-ref ref="FILE"/>
    </root>

    <!-- Hibernate logging -->
    <logger name="org.hibernate.SQL" level="DEBUG"/>
    <logger name="org.hibernate.type.descriptor.sql" level="TRACE"/>
</configuration>


ŒCIE¯KA: src\main\resources\com\election\view\admin_view.fxml
----------------------------------------------------------------
<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.chart.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.control.cell.PropertyValueFactory?>
<?import javafx.scene.layout.*?>

<?import java.net.URL?>
<StackPane prefHeight="600" prefWidth="800" styleClass="root-style"
           xmlns="http://javafx.com/javafx/17.0.12"
           xmlns:fx="http://javafx.com/fxml/1"
           fx:controller="com.election.controller.AdminController">

    <stylesheets>
        <URL value="@style.css" />
    </stylesheets>

    <TabPane fx:id="tabPane" prefHeight="600" prefWidth="800" tabClosingPolicy="UNAVAILABLE">

        <!-- UÅ¼ytkownicy -->
        <Tab text="UÅ¼ytkownicy">
            <VBox spacing="10" styleClass="vbox-padding">
                <HBox spacing="10" alignment="CENTER_LEFT">
                    <Label styleClass="panel-title" text="Panel administratora" />
                    <Label styleClass="white-text" text="Szukaj PESEL:" />
                    <TextField fx:id="peselSearchField" promptText="WprowadÅº PESEL" />
                    <Button onAction="#handlePeselSearch" text="Szukaj" />
                    <Button onAction="#handleShowAllUsers" text="PokaÅ¼ wszystkich" />
                </HBox>

                <TableView fx:id="usersTable">
                    <columns>
                        <TableColumn fx:id="idColumn" prefWidth="50" text="ID" />
                        <TableColumn fx:id="usernameColumn" prefWidth="100" text="Login" />
                        <TableColumn fx:id="roleColumn" prefWidth="100" text="Rola" />
                        <TableColumn fx:id="firstNameColumn" prefWidth="120" text="ImiÄ™" />
                        <TableColumn fx:id="lastNameColumn" prefWidth="120" text="Nazwisko" />
                        <TableColumn fx:id="peselColumn" prefWidth="150" text="PESEL" />
                    </columns>
                </TableView>
            </VBox>
        </Tab>

        <!-- Wyniki wyborÃ³w -->
        <Tab text="Wyniki wyborÃ³w">
            <VBox spacing="10" styleClass="vbox-padding">
                <Label styleClass="panel-title" text="Aktualne wyniki wyborÃ³w" />
                <HBox spacing="20">
                    <TableView fx:id="resultsTable" prefWidth="450">
                        <columns>
                            <TableColumn fx:id="candidateColumn" prefWidth="200" text="Kandydat">
                                <cellValueFactory>
                                    <PropertyValueFactory property="name" />
                                </cellValueFactory>
                            </TableColumn>
                            <TableColumn fx:id="votesColumn" prefWidth="150" text="Liczba gÅ‚osÃ³w">
                                <cellValueFactory>
                                    <PropertyValueFactory property="votes" />
                                </cellValueFactory>
                            </TableColumn>
                        </columns>
                    </TableView>

                    <BarChart fx:id="resultsChart" styleClass="results-chart"
                              prefWidth="300"
                              prefHeight="250"
                              animated="true"
                              legendVisible="false"
                              title="GÅ‚osy wg kandydata">
                        <xAxis>
                            <CategoryAxis fx:id="xAxis" label="Kandydat" />
                        </xAxis>
                        <yAxis>
                            <NumberAxis fx:id="yAxis" label="Liczba gÅ‚osÃ³w" />
                        </yAxis>
                    </BarChart>
                </HBox>

                <HBox spacing="10" alignment="CENTER_LEFT">
                    <Button styleClass="button-refresh" onAction="#refreshResults" text="OdÅ›wieÅ¼ wyniki" />
                    <Button styleClass="button-logout" onAction="#handleLogout" text="Wyloguj" />
                    <Label fx:id="statusLabel" styleClass="status-label" />
                </HBox>

                <!-- Przyciski eksportu -->
                <HBox spacing="10" alignment="CENTER_LEFT">
                    <Button styleClass="button-export" onAction="#handleExportToCSV" text="Eksportuj do CSV" />
                    <Button styleClass="button-export" onAction="#handleExportToPDF" text="Eksportuj do PDF" />
                </HBox>
            </VBox>
        </Tab>

        <!-- NarzÄ™dzia -->
        <Tab text="NarzÄ™dzia">
            <VBox spacing="10" styleClass="vbox-padding">
                <Label styleClass="panel-title" text="NarzÄ™dzia administratora" />
                <VBox alignment="CENTER" spacing="15" styleClass="tools-container">
                    <Button styleClass="button-generate" onAction="#handleOpenHashGenerator" text="OtwÃ³rz Generator Hashy" />
                    <Button styleClass="button-logout" onAction="#handleLogout" text="Wyloguj" />
                </VBox>
            </VBox>
        </Tab>

        <!-- Dodaj uÅ¼ytkownika -->
        <Tab text="Dodaj uÅ¼ytkownika">
            <VBox spacing="10" styleClass="vbox-padding">
                <Label styleClass="panel-title" text="Dodaj nowego uÅ¼ytkownika" />
                <GridPane hgap="10" vgap="10">
                    <Label styleClass="form-label" text="Login:" GridPane.columnIndex="0" GridPane.rowIndex="0" />
                    <TextField fx:id="usernameField" GridPane.columnIndex="1" GridPane.rowIndex="0" />

                    <Label styleClass="form-label" text="HasÅ‚o (zahashowane):" GridPane.columnIndex="0" GridPane.rowIndex="1" />
                    <TextField fx:id="passwordField" GridPane.columnIndex="1" GridPane.rowIndex="1" />

                    <Label styleClass="form-label" text="Rola:" GridPane.columnIndex="0" GridPane.rowIndex="2" />
                    <ComboBox fx:id="roleComboBox" GridPane.columnIndex="1" GridPane.rowIndex="2" />

                    <Label styleClass="form-label" text="ImiÄ™:" GridPane.columnIndex="0" GridPane.rowIndex="3" />
                    <TextField fx:id="firstNameField" GridPane.columnIndex="1" GridPane.rowIndex="3" />

                    <Label styleClass="form-label" text="Nazwisko:" GridPane.columnIndex="0" GridPane.rowIndex="4" />
                    <TextField fx:id="lastNameField" GridPane.columnIndex="1" GridPane.rowIndex="4" />

                    <Label styleClass="form-label" text="PESEL:" GridPane.columnIndex="0" GridPane.rowIndex="5" />
                    <TextField fx:id="peselField" GridPane.columnIndex="1" GridPane.rowIndex="5" />

                    <columnConstraints>
                        <ColumnConstraints />
                        <ColumnConstraints />
                    </columnConstraints>
                    <rowConstraints>
                        <RowConstraints />
                        <RowConstraints />
                        <RowConstraints />
                        <RowConstraints />
                        <RowConstraints />
                        <RowConstraints />
                    </rowConstraints>
                </GridPane>
                <Button styleClass="button-add" onAction="#handleAddUser" text="Dodaj uÅ¼ytkownika" />
                <Label fx:id="addUserStatusLabel" styleClass="status-label" />
            </VBox>
        </Tab>

        <!-- Edytuj uÅ¼ytkownika -->
        <Tab text="Edytuj uÅ¼ytkownika">
            <VBox spacing="10" styleClass="vbox-padding">
                <Label styleClass="panel-title" text="Edytuj uÅ¼ytkownika" />
                <GridPane hgap="10" vgap="10">
                    <Label styleClass="form-label" text="ID uÅ¼ytkownika:" GridPane.columnIndex="0" GridPane.rowIndex="0" />
                    <TextField fx:id="editUserIdField" GridPane.columnIndex="1" GridPane.rowIndex="0" />

                    <Label styleClass="form-label" text="Nowy login:" GridPane.columnIndex="0" GridPane.rowIndex="1" />
                    <TextField fx:id="editUsernameField" GridPane.columnIndex="1" GridPane.rowIndex="1" />

                    <Label styleClass="form-label" text="Nowe hasÅ‚o (zahashowane):" GridPane.columnIndex="0" GridPane.rowIndex="2" />
                    <TextField fx:id="editPasswordField" GridPane.columnIndex="1" GridPane.rowIndex="2" />

                    <Label styleClass="form-label" text="Nowa rola:" GridPane.columnIndex="0" GridPane.rowIndex="3" />
                    <ComboBox fx:id="editRoleComboBox" GridPane.columnIndex="1" GridPane.rowIndex="3" />

                    <Label styleClass="form-label" text="Nowe imiÄ™:" GridPane.columnIndex="0" GridPane.rowIndex="4" />
                    <TextField fx:id="editFirstNameField" GridPane.columnIndex="1" GridPane.rowIndex="4" />

                    <Label styleClass="form-label" text="Nowe nazwisko:" GridPane.columnIndex="0" GridPane.rowIndex="5" />
                    <TextField fx:id="editLastNameField" GridPane.columnIndex="1" GridPane.rowIndex="5" />

                    <Label styleClass="form-label" text="Nowy PESEL:" GridPane.columnIndex="0" GridPane.rowIndex="6" />
                    <TextField fx:id="editPeselField" GridPane.columnIndex="1" GridPane.rowIndex="6" />

                    <columnConstraints>
                        <ColumnConstraints />
                        <ColumnConstraints />
                    </columnConstraints>
                    <rowConstraints>
                        <RowConstraints />
                        <RowConstraints />
                        <RowConstraints />
                        <RowConstraints />
                        <RowConstraints />
                        <RowConstraints />
                        <RowConstraints />
                    </rowConstraints>
                </GridPane>
                <Button styleClass="button-save" onAction="#handleEditUser" text="Zapisz zmiany" />
                <Label fx:id="editUserStatusLabel" styleClass="edit-status-label" />
            </VBox>
        </Tab>

        <!-- UsuÅ„ uÅ¼ytkownika -->
        <Tab text="UsuÅ„ uÅ¼ytkownika">
            <VBox spacing="10" styleClass="vbox-padding">
                <Label styleClass="panel-title" text="UsuÅ„ uÅ¼ytkownika" />
                <GridPane hgap="10" vgap="10">
                    <Label styleClass="form-label" text="ID uÅ¼ytkownika do usuniÄ™cia:" GridPane.columnIndex="0" GridPane.rowIndex="0" />
                    <TextField fx:id="deleteUserIdField" GridPane.columnIndex="1" GridPane.rowIndex="0" />

                    <columnConstraints>
                        <ColumnConstraints />
                        <ColumnConstraints />
                    </columnConstraints>
                    <rowConstraints>
                        <RowConstraints />
                    </rowConstraints>
                </GridPane>
                <Button styleClass="button-delete" onAction="#handleDeleteUser" text="UsuÅ„ uÅ¼ytkownika" />
                <Label fx:id="deleteUserStatusLabel" styleClass="delete-status-label" />
            </VBox>
        </Tab>
    </TabPane>
</StackPane>


ŒCIE¯KA: src\main\resources\com\election\view\login.fxml
-----------------------------------------------------------
<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>

<?import java.net.URL?>
<BorderPane prefHeight="600.0" prefWidth="800.0"
            xmlns="http://javafx.com/javafx/17.0.12"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.election.controller.LoginController">

    <stylesheets>
        <URL value="@style.css" />
    </stylesheets>

    <center>
        <VBox styleClass="root-style" alignment="CENTER" spacing="20">
            <Label styleClass="app-title" text="Wybory prezydenckie" />

            <GridPane alignment="CENTER" hgap="10" vgap="10">
                <columnConstraints>
                    <ColumnConstraints halignment="RIGHT" />
                    <ColumnConstraints />
                </columnConstraints>

                <rowConstraints>
                    <RowConstraints />
                    <RowConstraints />
                    <RowConstraints />
                </rowConstraints>

                <Label styleClass="form-label" text="Login:" GridPane.columnIndex="0" GridPane.rowIndex="0" />
                <TextField fx:id="usernameField" styleClass="form-field" promptText="WprowadÅº login" GridPane.columnIndex="1" GridPane.rowIndex="0" />

                <Label styleClass="form-label" text="HasÅ‚o:" GridPane.columnIndex="0" GridPane.rowIndex="1" />
                <PasswordField fx:id="passwordField" styleClass="form-field" promptText="WprowadÅº hasÅ‚o" GridPane.columnIndex="1" GridPane.rowIndex="1" />

                <HBox alignment="CENTER" spacing="10" GridPane.columnIndex="1" GridPane.rowIndex="2">
                    <Button styleClass="button-login" onAction="#handleLogin" text="Zaloguj" />
                </HBox>
            </GridPane>

            <VBox alignment="CENTER" spacing="10">
                <Label fx:id="errorLabel" styleClass="error-label" />
            </VBox>
        </VBox>
    </center>
</BorderPane>


ŒCIE¯KA: src\main\resources\com\election\view\style.css
----------------------------------------------------------
/* GLOBALNE STYLE */
.root-style {
    -fx-background-color: #34495e;
}

.white-text {
    -fx-text-fill: white;
}

/* TYPOGRAPHY */
.panel-title {
    -fx-font-size: 18px;
    -fx-font-weight: bold;
    -fx-text-fill: white;
}

.app-title {
    -fx-font-size: 40px;
    -fx-font-weight: bold;
    -fx-text-fill: white;
}

.form-label {
    -fx-text-fill: white;
    -fx-font-size: 14px;
}

/* PRZYCISKI */
.button-logout {
    -fx-base: #e74c3c;
    -fx-text-fill: white;
    -fx-font-size: 14px;
}

.button-generate {
    -fx-font-size: 14px;
    -fx-padding: 8px 20px;
    -fx-base: #3498db;
    -fx-text-fill: white;
}

.button-refresh {
    -fx-font-size: 14px;
    -fx-padding: 5px 15px;
}

.button-export {
    -fx-font-size: 14px;
    -fx-padding: 5px 15px;
}

.button-add {
    -fx-font-size: 14px;
    -fx-padding: 5px 15px;
}

.button-save {
    -fx-font-size: 14px;
    -fx-padding: 5px 15px;
}

.button-delete {
    -fx-font-size: 14px;
    -fx-padding: 5px 15px;
}

.button-login {
    -fx-font-size: 20px;
    -fx-pref-height: 44px;
    -fx-pref-width: 202px;
}

.button-vote {
    -fx-font-size: 32px;
    -fx-base: #27ae60;
    -fx-text-fill: white;
    -fx-pref-width: 450px;
}

/* KONTENERY */
.vbox-padding {
    -fx-padding: 20px;
}

.tools-container {
    -fx-padding: 30px 0 0 0;
}

.voting-container {
    -fx-padding: 20px;
    -fx-background-color: white;
    -fx-background-radius: 10px;
}

.header-style {
    -fx-padding: 10px;
    -fx-background-color: #34495e;
}

.footer-style {
    -fx-padding: 15px;
    -fx-background-color: #34495e;
}

/* STATUSY I KOMUNIKATY */
.status-label {
    -fx-text-fill: #2ecc71;
    -fx-font-style: italic;
}

.edit-status-label {
    -fx-text-fill: #f1c40f;
    -fx-font-style: italic;
}

.delete-status-label {
    -fx-text-fill: #e74c3c;
    -fx-font-style: italic;
}

.error-label {
    -fx-text-fill: #ff4444;
    -fx-font-size: 20px;
}

.vote-status-label {
    -fx-font-size: 24px;
    -fx-text-fill: #e74c3c;
}

/* FORMULARZE */
.form-field {
    -fx-pref-width: 200px;
    -fx-font-size: 20px;
}

/* WYKRESY */
.results-chart {
    -fx-title-fill: white;
}

.results-chart .chart-title {
    -fx-text-fill: white;
}

.results-chart .axis-label {
    -fx-text-fill: white;
}

.results-chart .axis {
    -fx-tick-label-fill: white;
}

/* SPECJALNE ELEMENTY */
.welcome-text {
    -fx-font-size: 50px;
    -fx-font-weight: bold;
    -fx-text-fill: #2c3e50;
}

.candidate-label {
    -fx-font-size: 48px;
    -fx-font-weight: bold;
}

.candidate-combo {
    -fx-pref-height: 65px;
    -fx-pref-width: 450px;
    -fx-font-size: 25px;
}

.footer-text {
    -fx-text-fill: white;
    -fx-font-size: 30px;
}


ŒCIE¯KA: src\main\resources\com\election\view\user_view.fxml
---------------------------------------------------------------
<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>

<?import java.net.URL?>
<BorderPane prefHeight="600" prefWidth="800"
            xmlns="http://javafx.com/javafx/17.0.12"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.election.controller.UserController">

    <stylesheets>
        <URL value="@style.css" />
    </stylesheets>

    <!-- Stopka -->
    <bottom>
        <HBox styleClass="footer-style" alignment="CENTER">
            <Label styleClass="footer-text" text="Wybory prezydenckie 2025" />
        </HBox>
    </bottom>

    <!-- GÅ‚Ã³wna zawartoÅ›Ä‡ -->
    <top>
        <VBox alignment="CENTER" prefWidth="800.0" spacing="20">
            <!-- Panel nawigacyjny -->
            <HBox styleClass="header-style" alignment="CENTER_RIGHT">
                <Button fx:id="logoutButton" styleClass="button-logout" onAction="#handleLogout" text="Wyloguj" />
            </HBox>

            <!-- Formularz gÅ‚osowania -->
            <VBox styleClass="voting-container" alignment="CENTER" spacing="20">
                <!-- NagÅ‚Ã³wek -->
                <Label styleClass="welcome-text" text="Witaj w systemie gÅ‚osowania!" />

                <!-- Lista kandydatÃ³w -->
                <Label styleClass="candidate-label" text="Wybierz kandydata:" />

                <ComboBox fx:id="candidateComboBox" styleClass="candidate-combo" promptText="Kliknij, aby wybraÄ‡..." />

                <!-- Przycisk gÅ‚osowania -->
                <Button fx:id="submitButton" styleClass="button-vote" onAction="#handleVoteSubmit" text="Oddaj gÅ‚os" />

                <!-- Komunikaty statusu -->
                <Label fx:id="statusLabel" styleClass="vote-status-label" wrapText="true" />
            </VBox>
        </VBox>
    </top>
</BorderPane>


ŒCIE¯KA: src\main\resources\META-INF\MANIFEST.MF
---------------------------------------------------
[PLIK BINARNY - POMINIÊTO ZAWARTOŒÆ]


ŒCIE¯KA: target\classes\hibernate.cfg.xml
--------------------------------------------
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE hibernate-configuration PUBLIC
        "-//Hibernate/Hibernate Configuration DTD 3.0//EN"
        "http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd">

<hibernate-configuration>
    <session-factory>
        <!-- PoÅ‚Ä…czenie z bazÄ… H2 (plikowa baza danych) -->
        <property name="hibernate.connection.driver_class">org.h2.Driver</property>
        <property name="hibernate.connection.url">jdbc:h2:file:./database/election_db;AUTO_SERVER=TRUE</property>
        <property name="hibernate.connection.username">sa</property>
        <property name="hibernate.connection.password"></property>

        <!-- Dialekt i automatyczne aktualizowanie tabel -->
        <property name="hibernate.dialect">org.hibernate.dialect.H2Dialect</property>
        <property name="hibernate.hbm2ddl.auto">update</property>

        <!-- Debug SQL -->
        <property name="hibernate.show_sql">true</property>
        <property name="hibernate.format_sql">true</property>

        <!-- Mapowania encji -->
        <mapping class="com.election.model.User"/>
        <mapping class="com.election.model.Candidate"/>
        <mapping class="com.election.model.Vote"/>
        <mapping class="com.election.model.ElectionResult"/>
    </session-factory>
</hibernate-configuration>



ŒCIE¯KA: target\classes\import.sql
-------------------------------------
INSERT INTO USERS (username, password, role, has_voted, first_name, last_name, pesel)
VALUES ('admin', '$2a$10$dj9eHfuT2oAOd4H0LabcZexzBX7MS7/NgfhabawxQpXd57ZAr3nEq', 'ADMIN', FALSE, 'Admin', 'Adminowski', '00000000000');

INSERT INTO USERS (username, password, role, has_voted, first_name, last_name, pesel)
VALUES ('user', '$2a$10$SvcT2pdsn5ndUfkfSvtFZ.dlYk/jnKfOz/gyq0yQdl58miFuAi23e', 'USER', FALSE, 'Jan', 'Nowak', '00000000123');

-- 50 przykÅ‚adowych uÅ¼ytkownikÃ³w
INSERT INTO USERS (username, password, role, has_voted, first_name, last_name, pesel)
VALUES ('user1', '$2a$10$Sc7BeEhS1QPGvKYOA5oczuFz3/8eG6050d/8gRKFPWAnYwcdyO5f6', 'USER', FALSE, 'Marek', 'SzymaÅ„ski', '10000000001');
INSERT INTO USERS (username, password, role, has_voted, first_name, last_name, pesel)
VALUES ('user2', '$2a$10$vUMiwF08NNen0DeWQb/pcukun3Sx1WXcHVuWka8TTi7ComDtJJw06', 'USER', FALSE, 'Magda', 'KamiÅ„ski', '10000000002');
INSERT INTO USERS (username, password, role, has_voted, first_name, last_name, pesel)
VALUES ('user3', '$2a$10$LN4./y9hOIu.DXEhHgYeye0290.ZeRJJUUojUFyfVaiKFLjAq3FOW', 'USER', FALSE, 'Marek', 'Kowalski', '10000000003');
INSERT INTO USERS (username, password, role, has_voted, first_name, last_name, pesel)
VALUES ('user4', '$2a$10$S0fJi2pjiVxVHXsvoGp68eT5BgSWnfGCkjmyE4KWW7XTRGcbcZKY.', 'USER', FALSE, 'Katarzyna', 'SzymaÅ„ski', '10000000004');
INSERT INTO USERS (username, password, role, has_voted, first_name, last_name, pesel)
VALUES ('user5', '$2a$10$7iok5jJS41OR2pA1TLKtiOgsjw8EjzMLROjkUjMgKYifQRO7.nB4y', 'USER', FALSE, 'Anna', 'WiÅ›niewski', '10000000005');
INSERT INTO USERS (username, password, role, has_voted, first_name, last_name, pesel)
VALUES ('user6', '$2a$10$tJqpsZKMTsqSvuDg4d.xu.kyODVx6xHi740N9fXwFbvksimF6Clg.', 'USER', FALSE, 'Marek', 'WiÅ›niewski', '10000000006');
INSERT INTO USERS (username, password, role, has_voted, first_name, last_name, pesel)
VALUES ('user7', '$2a$10$RZZTcoYwB1LtI7c3yqjapOF265vC.tkqOva7/QABqATowIzrAotn.', 'USER', FALSE, 'Monika', 'SzymaÅ„ski', '10000000007');
INSERT INTO USERS (username, password, role, has_voted, first_name, last_name, pesel)
VALUES ('user8', '$2a$10$2qrM8S0aJDxxPD36386btu43C40PspPXm0num5ZI6OIoB9O25EEqu', 'USER', FALSE, 'Monika', 'WoÅºniak', '10000000008');
INSERT INTO USERS (username, password, role, has_voted, first_name, last_name, pesel)
VALUES ('user9', '$2a$10$uieEDiqemn1oXopEzDtsfeXoP2dLILg198oJzmw8Xinz2zh580d.6', 'USER', FALSE, 'PaweÅ‚', 'WoÅºniak', '10000000009');
INSERT INTO USERS (username, password, role, has_voted, first_name, last_name, pesel)
VALUES ('user10', '$2a$10$rUUN0rUD3Dmb1OacpLXwxuc8pEUJApxdi/Zq2/VhnYpZZrgcsZq/K', 'USER', FALSE, 'Agnieszka', 'WoÅºniak', '10000000010');
INSERT INTO USERS (username, password, role, has_voted, first_name, last_name, pesel)
VALUES ('user11', '$2a$10$/7Vqc7iLsSa4hMlLOK6qc.1ftRGezIAWLwzkC2P/A0pDNPlsnmXX.', 'USER', FALSE, 'Agnieszka', 'Nowak', '10000000011');
INSERT INTO USERS (username, password, role, has_voted, first_name, last_name, pesel)
VALUES ('user12', '$2a$10$DrjdCOEFl1p4jRQ7PKiD6eZtJ89ChOc3p5CzuxB6WMbTip/NXUyxK', 'USER', FALSE, 'Tomasz', 'WiÅ›niewski', '10000000012');
INSERT INTO USERS (username, password, role, has_voted, first_name, last_name, pesel)
VALUES ('user13', '$2a$10$N5WKCe1KpuTmWbl72WnnLeCQuLggnSsiF7ns/XBPv.QzMKr47UCMC', 'USER', FALSE, 'Agnieszka', 'ZieliÅ„ski', '10000000013');
INSERT INTO USERS (username, password, role, has_voted, first_name, last_name, pesel)
VALUES ('user14', '$2a$10$pFdWbG91JFHKIpDkH6CTE.WGB8in0xk96aLh4obJkLgs9D/OGipoe', 'USER', FALSE, 'Magda', 'DÄ…browski', '10000000014');
INSERT INTO USERS (username, password, role, has_voted, first_name, last_name, pesel)
VALUES ('user15', '$2a$10$wWZ0BjtBY1zhrm6AsCAULuP.GashgN/mFP8VA4ZxDM0W6W/wnoaR.', 'USER', FALSE, 'Katarzyna', 'WoÅºniak', '10000000015');
INSERT INTO USERS (username, password, role, has_voted, first_name, last_name, pesel)
VALUES ('user16', '$2a$10$vLts/gfZMZo/uWGuXNZmDOVZ/0Xh8n46XaeNJJnxh33pU/Chobb4G', 'USER', FALSE, 'Piotr', 'Nowak', '10000000016');
INSERT INTO USERS (username, password, role, has_voted, first_name, last_name, pesel)
VALUES ('user17', '$2a$10$pUFMvRQNJ9VxoyOmgTien.kO90.uEEAhUC/mOdzXpAya/5EytmcFC', 'USER', FALSE, 'Piotr', 'WiÅ›niewski', '10000000017');
INSERT INTO USERS (username, password, role, has_voted, first_name, last_name, pesel)
VALUES ('user18', '$2a$10$7rHiMtPGw.eEOur502IKxe3uwScOa7TeHh1L.SMYTK/lLF.wmetQe', 'USER', FALSE, 'Marek', 'WoÅºniak', '10000000018');
INSERT INTO USERS (username, password, role, has_voted, first_name, last_name, pesel)
VALUES ('user19', '$2a$10$N5E7A5Xup5kgz.G12NMgXudDS/O6Qxpe4VY78k2MvmoH/4jfTbJSC', 'USER', FALSE, 'Katarzyna', 'Lewandowski', '10000000019');
INSERT INTO USERS (username, password, role, has_voted, first_name, last_name, pesel)
VALUES ('user20', '$2a$10$x7DrVGNEG..Lq7DG7LrWleHie25IyuueDxr2kLGe/msvmJOvrzHi6', 'USER', FALSE, 'Agnieszka', 'WoÅºniak', '10000000020');
INSERT INTO USERS (username, password, role, has_voted, first_name, last_name, pesel)
VALUES ('user21', '$2a$10$nU7dkq9M9yuZ20.3BC.G8edd.wdcsLpJ1P5/XF6pKHJof7pQJOtvG', 'USER', FALSE, 'Katarzyna', 'Nowak', '10000000021');
INSERT INTO USERS (username, password, role, has_voted, first_name, last_name, pesel)
VALUES ('user22', '$2a$10$hbx/t4ngdAGcRciCam3MQOvLuSeTXncsl3ZDaElGAURulNxKXBMEK', 'USER', FALSE, 'Agnieszka', 'WÃ³jcik', '10000000022');
INSERT INTO USERS (username, password, role, has_voted, first_name, last_name, pesel)
VALUES ('user23', '$2a$10$Mpw36WNX/tT6ETZFuNs2G.w0r70IA0mR8ZtpyobNdMhtjYyYfqZjy', 'USER', FALSE, 'Tomasz', 'Lewandowski', '10000000023');
INSERT INTO USERS (username, password, role, has_voted, first_name, last_name, pesel)
VALUES ('user24', '$2a$10$bLdn.mugKrdnHMuKl5VGIuFEatnKsOltxWy5BN5IwsOMXPQkdFHMm', 'USER', FALSE, 'Tomasz', 'WÃ³jcik', '10000000024');
INSERT INTO USERS (username, password, role, has_voted, first_name, last_name, pesel)
VALUES ('user25', '$2a$10$KkwrB4uEUl.lp3rqwJYjEOcvDXhvYcv.0TniEx5INoIVns2/oAE5q', 'USER', FALSE, 'Jan', 'KamiÅ„ski', '10000000025');
INSERT INTO USERS (username, password, role, has_voted, first_name, last_name, pesel)
VALUES ('user26', '$2a$10$jLkzCGgy7We5U29sm6rmwOkODd9Ohe3OdtIIGpsLqqwQ0wCqlD6Em', 'USER', FALSE, 'PaweÅ‚', 'WoÅºniak', '10000000026');
INSERT INTO USERS (username, password, role, has_voted, first_name, last_name, pesel)
VALUES ('user27', '$2a$10$LQzB5KcUpsgH3STf4mc8keEruwNNy8sqyS5SlJI0lnAuA3KDA2G6i', 'USER', FALSE, 'Agnieszka', 'Lewandowski', '10000000027');
INSERT INTO USERS (username, password, role, has_voted, first_name, last_name, pesel)
VALUES ('user28', '$2a$10$2ZS3M8guNnNc11gNl0QoseLG6oqV7p.UgXfMIcct3JKJWZbXqYnHm', 'USER', FALSE, 'Piotr', 'ZieliÅ„ski', '10000000028');
INSERT INTO USERS (username, password, role, has_voted, first_name, last_name, pesel)
VALUES ('user29', '$2a$10$fcKJW1a3fJYeWsZfGxNlhuSdExyzTTrOdcZSqDDsyBLOR6ow/7sk2', 'USER', FALSE, 'Jan', 'WÃ³jcik', '10000000029');
INSERT INTO USERS (username, password, role, has_voted, first_name, last_name, pesel)
VALUES ('user30', '$2a$10$uwxDabORqbjeNuDS9KbTG.nplCIYazNZYWn6H3PaW1DZdQ3dqr/Cm', 'USER', FALSE, 'Katarzyna', 'ZieliÅ„ski', '10000000030');
INSERT INTO USERS (username, password, role, has_voted, first_name, last_name, pesel)
VALUES ('user31', '$2a$10$88TtNyHUTYUAE.3N71kj2ukBMKshGJZiXd/MT0chFc3SL0CvnbUdy', 'USER', FALSE, 'Tomasz', 'Kowalski', '10000000031');
INSERT INTO USERS (username, password, role, has_voted, first_name, last_name, pesel)
VALUES ('user32', '$2a$10$0chFpgSbyDUo4p7H7PVPGe.amRwvRnmpGnr/pj0MuHaodPj7Ar1XC', 'USER', FALSE, 'Jan', 'WiÅ›niewski', '10000000032');
INSERT INTO USERS (username, password, role, has_voted, first_name, last_name, pesel)
VALUES ('user33', '$2a$10$hJTZUd5V7mIYEimn8xuQ9.8Is03hy63tKk1L0nsl2Zz6YCrKsG8g.', 'USER', FALSE, 'Jan', 'WiÅ›niewski', '10000000033');
INSERT INTO USERS (username, password, role, has_voted, first_name, last_name, pesel)
VALUES ('user34', '$2a$10$4S/qhltwLg6VglOW.amso.2pnoDD08ARedAkFNM5slB5eXwBvIS6G', 'USER', FALSE, 'Marek', 'WoÅºniak', '10000000034');
INSERT INTO USERS (username, password, role, has_voted, first_name, last_name, pesel)
VALUES ('user35', '$2a$10$FX62/Xf0T.yi6oaoQk6jnOhl8tIC6MNVR8Sa/3CviSrMx1Vabuuma', 'USER', FALSE, 'Tomasz', 'WÃ³jcik', '10000000035');
INSERT INTO USERS (username, password, role, has_voted, first_name, last_name, pesel)
VALUES ('user36', '$2a$10$QjXWEHp16B19vWjmUiF7YuhtBz154A3cjp.cd8hNTrZYkm6uOYjtm', 'USER', FALSE, 'Agnieszka', 'WoÅºniak', '10000000036');
INSERT INTO USERS (username, password, role, has_voted, first_name, last_name, pesel)
VALUES ('user37', '$2a$10$LFiYRxMfQtr55t2YWrp8L.4QEhRIA2pvY9bJkYcwjCYi4uLYh0rzK', 'USER', FALSE, 'Tomasz', 'WoÅºniak', '10000000037');
INSERT INTO USERS (username, password, role, has_voted, first_name, last_name, pesel)
VALUES ('user38', '$2a$10$AUD0va4N9IdiRpyoMaurUu9x.Hki1F42iq.BvwmWuAEm5iICyl4RS', 'USER', FALSE, 'Piotr', 'DÄ…browski', '10000000038');
INSERT INTO USERS (username, password, role, has_voted, first_name, last_name, pesel)
VALUES ('user39', '$2a$10$9Tsw2X14CpYPMfuHneTXGuTwt79gGhf99LsNOAsOzTmhZBdZbyJ4S', 'USER', FALSE, 'Magda', 'WoÅºniak', '10000000039');
INSERT INTO USERS (username, password, role, has_voted, first_name, last_name, pesel)
VALUES ('user40', '$2a$10$IrJb1jriiLjeYieqI4hAC.h9//AlizJ72d7doZJ2XQRosI66YbEpO', 'USER', FALSE, 'Monika', 'WÃ³jcik', '10000000040');
INSERT INTO USERS (username, password, role, has_voted, first_name, last_name, pesel)
VALUES ('user41', '$2a$10$tm3L8s/LdUWfgfxWjLb5PuecQvQok.u9oOOKoYEw2T/kN/.DPUyGe', 'USER', FALSE, 'Monika', 'Kowalski', '10000000041');
INSERT INTO USERS (username, password, role, has_voted, first_name, last_name, pesel)
VALUES ('user42', '$2a$10$KubEOlRt5ALVaXFpzzrOX.eNMsGe90sYGwoyE/4Cj1gUaHJ0A/11q', 'USER', FALSE, 'Tomasz', 'KamiÅ„ski', '10000000042');
INSERT INTO USERS (username, password, role, has_voted, first_name, last_name, pesel)
VALUES ('user43', '$2a$10$V0/fRnRKiLgLNUL.m/t8OeMEDkiPYHyfyIVmhVq8eIFlyTBWVsVTO', 'USER', FALSE, 'Monika', 'WÃ³jcik', '10000000043');
INSERT INTO USERS (username, password, role, has_voted, first_name, last_name, pesel)
VALUES ('user44', '$2a$10$bl/1DJFjrE8ZjIj2nCpmOeA9.aIeD2ultQJ/nzYhAunoECId.AZqy', 'USER', FALSE, 'Agnieszka', 'WÃ³jcik', '10000000044');
INSERT INTO USERS (username, password, role, has_voted, first_name, last_name, pesel)
VALUES ('user45', '$2a$10$4LA4v6s3GgrTRUfikvNF3.9RiudGLCLnbczCH3Kz9OvAFwWGs6dnK', 'USER', FALSE, 'Agnieszka', 'Lewandowski', '10000000045');
INSERT INTO USERS (username, password, role, has_voted, first_name, last_name, pesel)
VALUES ('user46', '$2a$10$9pJLoakbVZUDrvBb.51eS.HtQ3C302IXetVEU8QmjTGXedawivEhe', 'USER', FALSE, 'Katarzyna', 'WoÅºniak', '10000000046');
INSERT INTO USERS (username, password, role, has_voted, first_name, last_name, pesel)
VALUES ('user47', '$2a$10$sG7n7p/y0gc4huMUlcqviOtC3X7KLJDfcxwXh7YvvvlBKq7NXeWyi', 'USER', FALSE, 'Anna', 'Kowalski', '10000000047');
INSERT INTO USERS (username, password, role, has_voted, first_name, last_name, pesel)
VALUES ('user48', '$2a$10$HxdO2KKX6bRlyBLOF7EqO.hXdmyTomhnpSZ8QFU4ETf67S7R31fUG', 'USER', FALSE, 'Anna', 'Lewandowski', '10000000048');
INSERT INTO USERS (username, password, role, has_voted, first_name, last_name, pesel)
VALUES ('user49', '$2a$10$SmF5JJjFMHBv5wAwV5wa4uhRyRMY2QVSK7EO8QL/zriswO/P/4/H.', 'USER', FALSE, 'Anna', 'KamiÅ„ski', '10000000049');
INSERT INTO USERS (username, password, role, has_voted, first_name, last_name, pesel)
VALUES ('user50', '$2a$10$BTC9Z2.MtEe4CfDPpY6DS.9DFIRjLnqaK/JCjEWFsBivhG1vXjliO', 'USER', FALSE, 'Magda', 'SzymaÅ„ski', '10000000050');

INSERT INTO CANDIDATE (id, name, party, votes) VALUES (1, 'Jan Kowalski', 'Partia A', 0);
INSERT INTO CANDIDATE (id, name, party, votes) VALUES (2, 'Anna Nowak', 'Partia B', 0);
INSERT INTO CANDIDATE (id, name, party, votes) VALUES (3, 'Jan Tarczynski', 'Partia C', 0);



ŒCIE¯KA: target\classes\import_dynamic.sql
---------------------------------------------
INSERT INTO USERS (username, password, role, has_voted, first_name, last_name, pesel) VALUES ('user2', '$2a$10$SQoysXqwc4PRM69B5dREiu0KyK7mSlY8Jj65Dg7jWeVqnnqaNsLt.', 'USER', false, 'PaweÅ‚', 'Konopski', '90010254123');
INSERT INTO USERS (username, password, role, has_voted, first_name, last_name, pesel) VALUES ('user3', '$2a$10$.GqJ9nycIrQIU8cWR3ygEe1JNsPNZ/M1ksruFfDRzB1Qa5G5G0tbm', 'USER', false, 'Alicja', 'Koralik', '90044254321');
INSERT INTO USERS (id, username, password, role, has_voted) VALUES (2, 'user12345', '$2a$10$SvcT2pdsn5ndUfkfSvtFZ.dlYk/jnKfOz/gyq0yQdl58miFuAi23e', 'USER', false);
INSERT INTO USERS (id, username, password, role, has_voted) VALUES (2, 'user', '$2a$10$SvcT2pdsn5ndUfkfSvtFZ.dlYk/jnKfOz/gyq0yQdl58miFuAi23e', 'USER', false);



ŒCIE¯KA: target\classes\logback.xml
--------------------------------------
<?xml version="1.0" encoding="UTF-8"?>
<configuration>
    <!-- Konsola -->
    <appender name="CONSOLE" class="ch.qos.logback.core.ConsoleAppender">
        <encoder>
            <pattern>%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n</pattern>
        </encoder>
    </appender>

    <!-- Plik -->
    <appender name="FILE" class="ch.qos.logback.core.FileAppender">
        <file>logs/application.log</file>
        <encoder>
            <pattern>%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n</pattern>
        </encoder>
    </appender>

    <!-- Poziomy logowania -->
    <root level="DEBUG">
        <appender-ref ref="CONSOLE"/>
        <appender-ref ref="FILE"/>
    </root>

    <!-- Hibernate logging -->
    <logger name="org.hibernate.SQL" level="DEBUG"/>
    <logger name="org.hibernate.type.descriptor.sql" level="TRACE"/>
</configuration>


ŒCIE¯KA: target\classes\module-info.class
--------------------------------------------
[PLIK BINARNY - POMINIÊTO ZAWARTOŒÆ]


ŒCIE¯KA: target\classes\com\election\HashGenerator.class
-----------------------------------------------------------
[PLIK BINARNY - POMINIÊTO ZAWARTOŒÆ]


ŒCIE¯KA: target\classes\com\election\Main.class
--------------------------------------------------
[PLIK BINARNY - POMINIÊTO ZAWARTOŒÆ]


ŒCIE¯KA: target\classes\com\election\controller\AdminController$1.class
--------------------------------------------------------------------------
[PLIK BINARNY - POMINIÊTO ZAWARTOŒÆ]


ŒCIE¯KA: target\classes\com\election\controller\AdminController$2.class
--------------------------------------------------------------------------
[PLIK BINARNY - POMINIÊTO ZAWARTOŒÆ]


ŒCIE¯KA: target\classes\com\election\controller\AdminController.class
------------------------------------------------------------------------
[PLIK BINARNY - POMINIÊTO ZAWARTOŒÆ]


ŒCIE¯KA: target\classes\com\election\controller\LoginController$1.class
--------------------------------------------------------------------------
[PLIK BINARNY - POMINIÊTO ZAWARTOŒÆ]


ŒCIE¯KA: target\classes\com\election\controller\LoginController$2.class
--------------------------------------------------------------------------
[PLIK BINARNY - POMINIÊTO ZAWARTOŒÆ]


ŒCIE¯KA: target\classes\com\election\controller\LoginController$3.class
--------------------------------------------------------------------------
[PLIK BINARNY - POMINIÊTO ZAWARTOŒÆ]


ŒCIE¯KA: target\classes\com\election\controller\LoginController.class
------------------------------------------------------------------------
[PLIK BINARNY - POMINIÊTO ZAWARTOŒÆ]


ŒCIE¯KA: target\classes\com\election\controller\UserController.class
-----------------------------------------------------------------------
[PLIK BINARNY - POMINIÊTO ZAWARTOŒÆ]


ŒCIE¯KA: target\classes\com\election\dao\CandidateDAO.class
--------------------------------------------------------------
[PLIK BINARNY - POMINIÊTO ZAWARTOŒÆ]


ŒCIE¯KA: target\classes\com\election\dao\ElectionResultDAO.class
-------------------------------------------------------------------
[PLIK BINARNY - POMINIÊTO ZAWARTOŒÆ]


ŒCIE¯KA: target\classes\com\election\dao\JPAUtil.class
---------------------------------------------------------
[PLIK BINARNY - POMINIÊTO ZAWARTOŒÆ]


ŒCIE¯KA: target\classes\com\election\dao\UserDAO.class
---------------------------------------------------------
[PLIK BINARNY - POMINIÊTO ZAWARTOŒÆ]


ŒCIE¯KA: target\classes\com\election\exception\VotingException.class
-----------------------------------------------------------------------
[PLIK BINARNY - POMINIÊTO ZAWARTOŒÆ]


ŒCIE¯KA: target\classes\com\election\model\Candidate.class
-------------------------------------------------------------
[PLIK BINARNY - POMINIÊTO ZAWARTOŒÆ]


ŒCIE¯KA: target\classes\com\election\model\CandidateResult.class
-------------------------------------------------------------------
[PLIK BINARNY - POMINIÊTO ZAWARTOŒÆ]


ŒCIE¯KA: target\classes\com\election\model\ElectionResult.class
------------------------------------------------------------------
[PLIK BINARNY - POMINIÊTO ZAWARTOŒÆ]


ŒCIE¯KA: target\classes\com\election\model\User.class
--------------------------------------------------------
[PLIK BINARNY - POMINIÊTO ZAWARTOŒÆ]


ŒCIE¯KA: target\classes\com\election\model\Vote.class
--------------------------------------------------------
[PLIK BINARNY - POMINIÊTO ZAWARTOŒÆ]


ŒCIE¯KA: target\classes\com\election\service\AuthService$AuthResult.class
----------------------------------------------------------------------------
[PLIK BINARNY - POMINIÊTO ZAWARTOŒÆ]


ŒCIE¯KA: target\classes\com\election\service\AuthService$AuthStatus.class
----------------------------------------------------------------------------
[PLIK BINARNY - POMINIÊTO ZAWARTOŒÆ]


ŒCIE¯KA: target\classes\com\election\service\AuthService.class
-----------------------------------------------------------------
[PLIK BINARNY - POMINIÊTO ZAWARTOŒÆ]


ŒCIE¯KA: target\classes\com\election\service\ElectionService.class
---------------------------------------------------------------------
[PLIK BINARNY - POMINIÊTO ZAWARTOŒÆ]


ŒCIE¯KA: target\classes\com\election\service\ExportService.class
-------------------------------------------------------------------
[PLIK BINARNY - POMINIÊTO ZAWARTOŒÆ]


ŒCIE¯KA: target\classes\com\election\service\ExportServicePDF.class
----------------------------------------------------------------------
[PLIK BINARNY - POMINIÊTO ZAWARTOŒÆ]


ŒCIE¯KA: target\classes\com\election\service\VotingService.class
-------------------------------------------------------------------
[PLIK BINARNY - POMINIÊTO ZAWARTOŒÆ]


ŒCIE¯KA: target\classes\com\election\util\DataInitializer.class
------------------------------------------------------------------
[PLIK BINARNY - POMINIÊTO ZAWARTOŒÆ]


ŒCIE¯KA: target\classes\com\election\util\HibernateUtil.class
----------------------------------------------------------------
[PLIK BINARNY - POMINIÊTO ZAWARTOŒÆ]


ŒCIE¯KA: target\classes\com\election\view\admin_view.fxml
------------------------------------------------------------
<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.chart.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.control.cell.PropertyValueFactory?>
<?import javafx.scene.layout.*?>

<?import java.net.URL?>
<StackPane prefHeight="600" prefWidth="800" styleClass="root-style"
           xmlns="http://javafx.com/javafx/17.0.12"
           xmlns:fx="http://javafx.com/fxml/1"
           fx:controller="com.election.controller.AdminController">

    <stylesheets>
        <URL value="@style.css" />
    </stylesheets>

    <TabPane fx:id="tabPane" prefHeight="600" prefWidth="800" tabClosingPolicy="UNAVAILABLE">

        <!-- UÅ¼ytkownicy -->
        <Tab text="UÅ¼ytkownicy">
            <VBox spacing="10" styleClass="vbox-padding">
                <HBox spacing="10" alignment="CENTER_LEFT">
                    <Label styleClass="panel-title" text="Panel administratora" />
                    <Label styleClass="white-text" text="Szukaj PESEL:" />
                    <TextField fx:id="peselSearchField" promptText="WprowadÅº PESEL" />
                    <Button onAction="#handlePeselSearch" text="Szukaj" />
                    <Button onAction="#handleShowAllUsers" text="PokaÅ¼ wszystkich" />
                </HBox>

                <TableView fx:id="usersTable">
                    <columns>
                        <TableColumn fx:id="idColumn" prefWidth="50" text="ID" />
                        <TableColumn fx:id="usernameColumn" prefWidth="100" text="Login" />
                        <TableColumn fx:id="roleColumn" prefWidth="100" text="Rola" />
                        <TableColumn fx:id="firstNameColumn" prefWidth="120" text="ImiÄ™" />
                        <TableColumn fx:id="lastNameColumn" prefWidth="120" text="Nazwisko" />
                        <TableColumn fx:id="peselColumn" prefWidth="150" text="PESEL" />
                    </columns>
                </TableView>
            </VBox>
        </Tab>

        <!-- Wyniki wyborÃ³w -->
        <Tab text="Wyniki wyborÃ³w">
            <VBox spacing="10" styleClass="vbox-padding">
                <Label styleClass="panel-title" text="Aktualne wyniki wyborÃ³w" />
                <HBox spacing="20">
                    <TableView fx:id="resultsTable" prefWidth="450">
                        <columns>
                            <TableColumn fx:id="candidateColumn" prefWidth="200" text="Kandydat">
                                <cellValueFactory>
                                    <PropertyValueFactory property="name" />
                                </cellValueFactory>
                            </TableColumn>
                            <TableColumn fx:id="votesColumn" prefWidth="150" text="Liczba gÅ‚osÃ³w">
                                <cellValueFactory>
                                    <PropertyValueFactory property="votes" />
                                </cellValueFactory>
                            </TableColumn>
                        </columns>
                    </TableView>

                    <BarChart fx:id="resultsChart" styleClass="results-chart"
                              prefWidth="300"
                              prefHeight="250"
                              animated="true"
                              legendVisible="false"
                              title="GÅ‚osy wg kandydata">
                        <xAxis>
                            <CategoryAxis fx:id="xAxis" label="Kandydat" />
                        </xAxis>
                        <yAxis>
                            <NumberAxis fx:id="yAxis" label="Liczba gÅ‚osÃ³w" />
                        </yAxis>
                    </BarChart>
                </HBox>

                <HBox spacing="10" alignment="CENTER_LEFT">
                    <Button styleClass="button-refresh" onAction="#refreshResults" text="OdÅ›wieÅ¼ wyniki" />
                    <Button styleClass="button-logout" onAction="#handleLogout" text="Wyloguj" />
                    <Label fx:id="statusLabel" styleClass="status-label" />
                </HBox>

                <!-- Przyciski eksportu -->
                <HBox spacing="10" alignment="CENTER_LEFT">
                    <Button styleClass="button-export" onAction="#handleExportToCSV" text="Eksportuj do CSV" />
                    <Button styleClass="button-export" onAction="#handleExportToPDF" text="Eksportuj do PDF" />
                </HBox>
            </VBox>
        </Tab>

        <!-- NarzÄ™dzia -->
        <Tab text="NarzÄ™dzia">
            <VBox spacing="10" styleClass="vbox-padding">
                <Label styleClass="panel-title" text="NarzÄ™dzia administratora" />
                <VBox alignment="CENTER" spacing="15" styleClass="tools-container">
                    <Button styleClass="button-generate" onAction="#handleOpenHashGenerator" text="OtwÃ³rz Generator Hashy" />
                    <Button styleClass="button-logout" onAction="#handleLogout" text="Wyloguj" />
                </VBox>
            </VBox>
        </Tab>

        <!-- Dodaj uÅ¼ytkownika -->
        <Tab text="Dodaj uÅ¼ytkownika">
            <VBox spacing="10" styleClass="vbox-padding">
                <Label styleClass="panel-title" text="Dodaj nowego uÅ¼ytkownika" />
                <GridPane hgap="10" vgap="10">
                    <Label styleClass="form-label" text="Login:" GridPane.columnIndex="0" GridPane.rowIndex="0" />
                    <TextField fx:id="usernameField" GridPane.columnIndex="1" GridPane.rowIndex="0" />

                    <Label styleClass="form-label" text="HasÅ‚o (zahashowane):" GridPane.columnIndex="0" GridPane.rowIndex="1" />
                    <TextField fx:id="passwordField" GridPane.columnIndex="1" GridPane.rowIndex="1" />

                    <Label styleClass="form-label" text="Rola:" GridPane.columnIndex="0" GridPane.rowIndex="2" />
                    <ComboBox fx:id="roleComboBox" GridPane.columnIndex="1" GridPane.rowIndex="2" />

                    <Label styleClass="form-label" text="ImiÄ™:" GridPane.columnIndex="0" GridPane.rowIndex="3" />
                    <TextField fx:id="firstNameField" GridPane.columnIndex="1" GridPane.rowIndex="3" />

                    <Label styleClass="form-label" text="Nazwisko:" GridPane.columnIndex="0" GridPane.rowIndex="4" />
                    <TextField fx:id="lastNameField" GridPane.columnIndex="1" GridPane.rowIndex="4" />

                    <Label styleClass="form-label" text="PESEL:" GridPane.columnIndex="0" GridPane.rowIndex="5" />
                    <TextField fx:id="peselField" GridPane.columnIndex="1" GridPane.rowIndex="5" />

                    <columnConstraints>
                        <ColumnConstraints />
                        <ColumnConstraints />
                    </columnConstraints>
                    <rowConstraints>
                        <RowConstraints />
                        <RowConstraints />
                        <RowConstraints />
                        <RowConstraints />
                        <RowConstraints />
                        <RowConstraints />
                    </rowConstraints>
                </GridPane>
                <Button styleClass="button-add" onAction="#handleAddUser" text="Dodaj uÅ¼ytkownika" />
                <Label fx:id="addUserStatusLabel" styleClass="status-label" />
            </VBox>
        </Tab>

        <!-- Edytuj uÅ¼ytkownika -->
        <Tab text="Edytuj uÅ¼ytkownika">
            <VBox spacing="10" styleClass="vbox-padding">
                <Label styleClass="panel-title" text="Edytuj uÅ¼ytkownika" />
                <GridPane hgap="10" vgap="10">
                    <Label styleClass="form-label" text="ID uÅ¼ytkownika:" GridPane.columnIndex="0" GridPane.rowIndex="0" />
                    <TextField fx:id="editUserIdField" GridPane.columnIndex="1" GridPane.rowIndex="0" />

                    <Label styleClass="form-label" text="Nowy login:" GridPane.columnIndex="0" GridPane.rowIndex="1" />
                    <TextField fx:id="editUsernameField" GridPane.columnIndex="1" GridPane.rowIndex="1" />

                    <Label styleClass="form-label" text="Nowe hasÅ‚o (zahashowane):" GridPane.columnIndex="0" GridPane.rowIndex="2" />
                    <TextField fx:id="editPasswordField" GridPane.columnIndex="1" GridPane.rowIndex="2" />

                    <Label styleClass="form-label" text="Nowa rola:" GridPane.columnIndex="0" GridPane.rowIndex="3" />
                    <ComboBox fx:id="editRoleComboBox" GridPane.columnIndex="1" GridPane.rowIndex="3" />

                    <Label styleClass="form-label" text="Nowe imiÄ™:" GridPane.columnIndex="0" GridPane.rowIndex="4" />
                    <TextField fx:id="editFirstNameField" GridPane.columnIndex="1" GridPane.rowIndex="4" />

                    <Label styleClass="form-label" text="Nowe nazwisko:" GridPane.columnIndex="0" GridPane.rowIndex="5" />
                    <TextField fx:id="editLastNameField" GridPane.columnIndex="1" GridPane.rowIndex="5" />

                    <Label styleClass="form-label" text="Nowy PESEL:" GridPane.columnIndex="0" GridPane.rowIndex="6" />
                    <TextField fx:id="editPeselField" GridPane.columnIndex="1" GridPane.rowIndex="6" />

                    <columnConstraints>
                        <ColumnConstraints />
                        <ColumnConstraints />
                    </columnConstraints>
                    <rowConstraints>
                        <RowConstraints />
                        <RowConstraints />
                        <RowConstraints />
                        <RowConstraints />
                        <RowConstraints />
                        <RowConstraints />
                        <RowConstraints />
                    </rowConstraints>
                </GridPane>
                <Button styleClass="button-save" onAction="#handleEditUser" text="Zapisz zmiany" />
                <Label fx:id="editUserStatusLabel" styleClass="edit-status-label" />
            </VBox>
        </Tab>

        <!-- UsuÅ„ uÅ¼ytkownika -->
        <Tab text="UsuÅ„ uÅ¼ytkownika">
            <VBox spacing="10" styleClass="vbox-padding">
                <Label styleClass="panel-title" text="UsuÅ„ uÅ¼ytkownika" />
                <GridPane hgap="10" vgap="10">
                    <Label styleClass="form-label" text="ID uÅ¼ytkownika do usuniÄ™cia:" GridPane.columnIndex="0" GridPane.rowIndex="0" />
                    <TextField fx:id="deleteUserIdField" GridPane.columnIndex="1" GridPane.rowIndex="0" />

                    <columnConstraints>
                        <ColumnConstraints />
                        <ColumnConstraints />
                    </columnConstraints>
                    <rowConstraints>
                        <RowConstraints />
                    </rowConstraints>
                </GridPane>
                <Button styleClass="button-delete" onAction="#handleDeleteUser" text="UsuÅ„ uÅ¼ytkownika" />
                <Label fx:id="deleteUserStatusLabel" styleClass="delete-status-label" />
            </VBox>
        </Tab>
    </TabPane>
</StackPane>


ŒCIE¯KA: target\classes\com\election\view\login.fxml
-------------------------------------------------------
<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>

<?import java.net.URL?>
<BorderPane prefHeight="600.0" prefWidth="800.0"
            xmlns="http://javafx.com/javafx/17.0.12"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.election.controller.LoginController">

    <stylesheets>
        <URL value="@style.css" />
    </stylesheets>

    <center>
        <VBox styleClass="root-style" alignment="CENTER" spacing="20">
            <Label styleClass="app-title" text="Wybory prezydenckie" />

            <GridPane alignment="CENTER" hgap="10" vgap="10">
                <columnConstraints>
                    <ColumnConstraints halignment="RIGHT" />
                    <ColumnConstraints />
                </columnConstraints>

                <rowConstraints>
                    <RowConstraints />
                    <RowConstraints />
                    <RowConstraints />
                </rowConstraints>

                <Label styleClass="form-label" text="Login:" GridPane.columnIndex="0" GridPane.rowIndex="0" />
                <TextField fx:id="usernameField" styleClass="form-field" promptText="WprowadÅº login" GridPane.columnIndex="1" GridPane.rowIndex="0" />

                <Label styleClass="form-label" text="HasÅ‚o:" GridPane.columnIndex="0" GridPane.rowIndex="1" />
                <PasswordField fx:id="passwordField" styleClass="form-field" promptText="WprowadÅº hasÅ‚o" GridPane.columnIndex="1" GridPane.rowIndex="1" />

                <HBox alignment="CENTER" spacing="10" GridPane.columnIndex="1" GridPane.rowIndex="2">
                    <Button styleClass="button-login" onAction="#handleLogin" text="Zaloguj" />
                </HBox>
            </GridPane>

            <VBox alignment="CENTER" spacing="10">
                <Label fx:id="errorLabel" styleClass="error-label" />
            </VBox>
        </VBox>
    </center>
</BorderPane>


ŒCIE¯KA: target\classes\com\election\view\style.css
------------------------------------------------------
/* GLOBALNE STYLE */
.root-style {
    -fx-background-color: #34495e;
}

.white-text {
    -fx-text-fill: white;
}

/* TYPOGRAPHY */
.panel-title {
    -fx-font-size: 18px;
    -fx-font-weight: bold;
    -fx-text-fill: white;
}

.app-title {
    -fx-font-size: 40px;
    -fx-font-weight: bold;
    -fx-text-fill: white;
}

.form-label {
    -fx-text-fill: white;
    -fx-font-size: 14px;
}

/* PRZYCISKI */
.button-logout {
    -fx-base: #e74c3c;
    -fx-text-fill: white;
    -fx-font-size: 14px;
}

.button-generate {
    -fx-font-size: 14px;
    -fx-padding: 8px 20px;
    -fx-base: #3498db;
    -fx-text-fill: white;
}

.button-refresh {
    -fx-font-size: 14px;
    -fx-padding: 5px 15px;
}

.button-export {
    -fx-font-size: 14px;
    -fx-padding: 5px 15px;
}

.button-add {
    -fx-font-size: 14px;
    -fx-padding: 5px 15px;
}

.button-save {
    -fx-font-size: 14px;
    -fx-padding: 5px 15px;
}

.button-delete {
    -fx-font-size: 14px;
    -fx-padding: 5px 15px;
}

.button-login {
    -fx-font-size: 20px;
    -fx-pref-height: 44px;
    -fx-pref-width: 202px;
}

.button-vote {
    -fx-font-size: 32px;
    -fx-base: #27ae60;
    -fx-text-fill: white;
    -fx-pref-width: 450px;
}

/* KONTENERY */
.vbox-padding {
    -fx-padding: 20px;
}

.tools-container {
    -fx-padding: 30px 0 0 0;
}

.voting-container {
    -fx-padding: 20px;
    -fx-background-color: white;
    -fx-background-radius: 10px;
}

.header-style {
    -fx-padding: 10px;
    -fx-background-color: #34495e;
}

.footer-style {
    -fx-padding: 15px;
    -fx-background-color: #34495e;
}

/* STATUSY I KOMUNIKATY */
.status-label {
    -fx-text-fill: #2ecc71;
    -fx-font-style: italic;
}

.edit-status-label {
    -fx-text-fill: #f1c40f;
    -fx-font-style: italic;
}

.delete-status-label {
    -fx-text-fill: #e74c3c;
    -fx-font-style: italic;
}

.error-label {
    -fx-text-fill: #ff4444;
    -fx-font-size: 20px;
}

.vote-status-label {
    -fx-font-size: 24px;
    -fx-text-fill: #e74c3c;
}

/* FORMULARZE */
.form-field {
    -fx-pref-width: 200px;
    -fx-font-size: 20px;
}

/* WYKRESY */
.results-chart {
    -fx-title-fill: white;
}

.results-chart .chart-title {
    -fx-text-fill: white;
}

.results-chart .axis-label {
    -fx-text-fill: white;
}

.results-chart .axis {
    -fx-tick-label-fill: white;
}

/* SPECJALNE ELEMENTY */
.welcome-text {
    -fx-font-size: 50px;
    -fx-font-weight: bold;
    -fx-text-fill: #2c3e50;
}

.candidate-label {
    -fx-font-size: 48px;
    -fx-font-weight: bold;
}

.candidate-combo {
    -fx-pref-height: 65px;
    -fx-pref-width: 450px;
    -fx-font-size: 25px;
}

.footer-text {
    -fx-text-fill: white;
    -fx-font-size: 30px;
}


ŒCIE¯KA: target\classes\com\election\view\user_view.fxml
-----------------------------------------------------------
<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>

<?import java.net.URL?>
<BorderPane prefHeight="600" prefWidth="800"
            xmlns="http://javafx.com/javafx/17.0.12"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.election.controller.UserController">

    <stylesheets>
        <URL value="@style.css" />
    </stylesheets>

    <!-- Stopka -->
    <bottom>
        <HBox styleClass="footer-style" alignment="CENTER">
            <Label styleClass="footer-text" text="Wybory prezydenckie 2025" />
        </HBox>
    </bottom>

    <!-- GÅ‚Ã³wna zawartoÅ›Ä‡ -->
    <top>
        <VBox alignment="CENTER" prefWidth="800.0" spacing="20">
            <!-- Panel nawigacyjny -->
            <HBox styleClass="header-style" alignment="CENTER_RIGHT">
                <Button fx:id="logoutButton" styleClass="button-logout" onAction="#handleLogout" text="Wyloguj" />
            </HBox>

            <!-- Formularz gÅ‚osowania -->
            <VBox styleClass="voting-container" alignment="CENTER" spacing="20">
                <!-- NagÅ‚Ã³wek -->
                <Label styleClass="welcome-text" text="Witaj w systemie gÅ‚osowania!" />

                <!-- Lista kandydatÃ³w -->
                <Label styleClass="candidate-label" text="Wybierz kandydata:" />

                <ComboBox fx:id="candidateComboBox" styleClass="candidate-combo" promptText="Kliknij, aby wybraÄ‡..." />

                <!-- Przycisk gÅ‚osowania -->
                <Button fx:id="submitButton" styleClass="button-vote" onAction="#handleVoteSubmit" text="Oddaj gÅ‚os" />

                <!-- Komunikaty statusu -->
                <Label fx:id="statusLabel" styleClass="vote-status-label" wrapText="true" />
            </VBox>
        </VBox>
    </top>
</BorderPane>


ŒCIE¯KA: target\maven-status\maven-compiler-plugin\compile\default-compile\createdFiles.lst
----------------------------------------------------------------------------------------------
[PLIK BINARNY - POMINIÊTO ZAWARTOŒÆ]


ŒCIE¯KA: target\maven-status\maven-compiler-plugin\compile\default-compile\inputFiles.lst
--------------------------------------------------------------------------------------------
[PLIK BINARNY - POMINIÊTO ZAWARTOŒÆ]
